(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){function r(t,e){this.name="AuthTokenExpiredError",this.message=t,this.expiry=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function o(t){this.name="AuthTokenInvalidError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function i(t,e){this.name="AuthTokenNotBeforeError",this.message=t,this.date=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(t){this.name="AuthTokenError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(t,e){this.name="SilentMiddlewareBlockedError",this.message=t,this.type=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(t){this.name="InvalidActionError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(t){this.name="InvalidArgumentsError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(t){this.name="InvalidOptionsError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(t){this.name="InvalidMessageError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(t,e){this.name="SocketProtocolError",this.message=t,this.code=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(t){this.name="ServerProtocolError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(t){this.name="HTTPServerError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(t){this.name="ResourceLimitError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function v(t){this.name="TimeoutError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(t,e){this.name="BadConnectionError",this.message=t,this.type=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(t){this.name="BrokerError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(t,e){this.name="ProcessExitError",this.message=t,this.code=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(t){this.name="UnknownError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}var w=n(14),k=function(){return!this}();r.prototype=Object.create(Error.prototype),o.prototype=Object.create(Error.prototype),i.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),v.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),t.exports={AuthTokenExpiredError:r,AuthTokenInvalidError:o,AuthTokenNotBeforeError:i,AuthTokenError:s,SilentMiddlewareBlockedError:a,InvalidActionError:c,InvalidArgumentsError:u,InvalidOptionsError:h,InvalidMessageError:l,SocketProtocolError:p,ServerProtocolError:f,HTTPServerError:d,ResourceLimitError:y,TimeoutError:v,BadConnectionError:g,BrokerError:m,ProcessExitError:b,UnknownError:E},t.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out"},t.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"};var T={domain:1,domainEmitter:1,domainThrown:1};t.exports.dehydrateError=function(t,e){var n;if(t&&"object"==typeof t){n={message:t.message},e&&(n.stack=t.stack);for(var r in t)T[r]||(n[r]=t[r])}else n="function"==typeof t?"[function "+(t.name||"anonymous")+"]":t;return w(n)},t.exports.hydrateError=function(t){var e=null;if(null!=t)if("object"==typeof t){e=new Error(t.message);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}else e=t;return e},t.exports.decycle=w},function(t,e,n){(function(e,r){var o=n(1),i=n(13).SCChannel,s=(n(5).Response,n(15).AuthEngine),a=n(16),c=n(17).SCTransport,u=n(6),h=n(21),l=n(23),p=n(25),f=n(2),d=f.InvalidArgumentsError,y=f.InvalidMessageError,v=f.SocketProtocolError,g=f.TimeoutError,m=f.BadConnectionError,b="undefined"!=typeof window,E=function(t){var n=this;o.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.connectTimeout=t.connectTimeout,this.ackTimeout=t.ackTimeout,this.channelPrefix=t.channelPrefix||null,this.disconnectOnUnload=null==t.disconnectOnUnload||t.disconnectOnUnload,this.authTokenName=t.authTokenName,this.pingTimeout=this.ackTimeout;var r=Math.pow(2,31)-1,i=function(t){if(n[t]>r)throw new d("The "+t+" value provided exceeded the maximum amount allowed")};if(i("connectTimeout"),i("ackTimeout"),i("pingTimeout"),this._localEvents={connect:1,connectAbort:1,disconnect:1,message:1,error:1,raw:1,fail:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new h,this.channels={},this.options=t,this._cid=1,this.options.callIdGenerator=function(){return n._cid++},this.options.autoReconnect){null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={});var c=this.options.autoReconnectOptions;null==c.initialDelay&&(c.initialDelay=1e4),null==c.randomness&&(c.randomness=1e4),null==c.multiplier&&(c.multiplier=1.5),null==c.maxDelay&&(c.maxDelay=6e4)}null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new s,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=a,this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=t.query||{},"string"==typeof this.options.query&&(this.options.query=u.parse(this.options.query)),this.options.autoConnect&&this.connect(),this._channelEmitter=new o,b&&this.disconnectOnUnload&&e.addEventListener&&(this._unloadHandler=function(){n.disconnect()},e.addEventListener("beforeunload",this._unloadHandler,!1))};E.prototype=Object.create(o.prototype),E.CONNECTING=E.prototype.CONNECTING=c.prototype.CONNECTING,E.OPEN=E.prototype.OPEN=c.prototype.OPEN,E.CLOSED=E.prototype.CLOSED=c.prototype.CLOSED,E.AUTHENTICATED=E.prototype.AUTHENTICATED="authenticated",E.UNAUTHENTICATED=E.prototype.UNAUTHENTICATED="unauthenticated",E.PENDING=E.prototype.PENDING="pending",E.ignoreStatuses=f.socketProtocolIgnoreStatuses,E.errorStatuses=f.socketProtocolErrorStatuses,E.prototype._privateEventHandlerMap={"#publish":function(t){var e=this._undecorateChannelName(t.channel);this.isSubscribed(e,!0)&&this._channelEmitter.emit(e,t.data)},"#kickOut":function(t){var e=this._undecorateChannelName(t.channel),n=this.channels[e];n&&(o.prototype.emit.call(this,"kickOut",t.message,e),n.emit("kickOut",t.message,e),this._triggerChannelUnsubscribe(n))},"#setAuthToken":function(t,e){var n=this;if(t){var r=function(r){r?(e.error(r),n._onSCError(r)):(n._changeToAuthenticatedState(t.token),e.end())};this.auth.saveToken(this.authTokenName,t.token,{},r)}else e.error(new y("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(t,e){var n=this;this.auth.removeToken(this.authTokenName,function(t,r){t?(e.error(t),n._onSCError(t)):(o.prototype.emit.call(n,"removeAuthToken",r),n._changeToUnauthenticatedStateAndClearTokens(),e.end())})},"#disconnect":function(t){this.transport.close(t.code,t.data)}},E.prototype.getState=function(){return this.state},E.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},E.prototype.deauthenticate=function(t){var e=this;this.auth.removeToken(this.authTokenName,function(n,r){n?e._onSCError(n):(o.prototype.emit.call(e,"removeAuthToken",r),e.state!=e.CLOSED&&e.emit("#removeAuthToken"),e._changeToUnauthenticatedStateAndClearTokens()),t&&t(n)})},E.prototype.connect=E.prototype.open=function(){var t=this;this.state==this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,o.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new c(this.auth,this.codec,this.options),this.transport.on("open",function(e){t.state=t.OPEN,t._onSCOpen(e)}),this.transport.on("error",function(e){t._onSCError(e)}),this.transport.on("close",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n)}),this.transport.on("openAbort",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n,!0)}),this.transport.on("event",function(e,n,r){t._onSCEvent(e,n,r)}))},E.prototype.reconnect=function(){this.disconnect(),this.connect()},E.prototype.disconnect=function(t,e){if("number"!=typeof(t=t||1e3))throw new d("If specified, the code argument must be a number");this.state==this.OPEN||this.state==this.CONNECTING?this.transport.close(t,e):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},E.prototype.destroy=function(){this._unloadHandler&&e.removeEventListener("beforeunload",this._unloadHandler,!1),this.disconnect()},E.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!=this.UNAUTHENTICATED){var t=this.authState;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;var e={oldState:t,newState:this.authState};o.prototype.emit.call(this,"authStateChange",e),t==this.AUTHENTICATED&&o.prototype.emit.call(this,"deauthenticate"),o.prototype.emit.call(this,"authTokenChange",this.signedAuthToken)}},E.prototype._changeToAuthenticatedState=function(t){if(this.signedAuthToken=t,this.authToken=this._extractAuthTokenData(t),this.authState!=this.AUTHENTICATED){var e=this.authState;this.authState=this.AUTHENTICATED;var n={oldState:e,newState:this.authState,signedAuthToken:t,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),o.prototype.emit.call(this,"authStateChange",n),o.prototype.emit.call(this,"authenticate",t)}o.prototype.emit.call(this,"authTokenChange",t)},E.prototype.decodeBase64=function(t){var n;if(void 0===r)n=e.atob?e.atob(t):l.decode(t);else{n=new r(t,"base64").toString("utf8")}return n},E.prototype.encodeBase64=function(t){var n;if(void 0===r)n=e.btoa?e.btoa(t):l.encode(t);else{n=new r(t,"utf8").toString("base64")}return n},E.prototype._extractAuthTokenData=function(t){var e=(t||"").split("."),n=e[1];if(null!=n){var r=n;try{return r=this.decodeBase64(r),JSON.parse(r)}catch(t){return r}}return null},E.prototype.getAuthToken=function(){return this.authToken},E.prototype.getSignedAuthToken=function(){return this.signedAuthToken},E.prototype.authenticate=function(t,e){var n=this;this.emit("#authenticate",t,function(r,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=f.hydrateError(o.authError)):o={isAuthenticated:n.authState,authError:null},r?("BadConnectionError"!=r.name&&"TimeoutError"!=r.name&&n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)):n.auth.saveToken(n.authTokenName,t,{},function(r){r&&n._onSCError(r),o.isAuthenticated?n._changeToAuthenticatedState(t):n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)})})},E.prototype._tryReconnect=function(t){var e,n=this,r=this.connectAttempts++,o=this.options.autoReconnectOptions;if(null==t||r>0){var i=Math.round(o.initialDelay+(o.randomness||0)*Math.random());e=Math.round(i*Math.pow(o.multiplier,r))}else e=t;e>o.maxDelay&&(e=o.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=e,this._reconnectTimeoutRef=setTimeout(function(){n.connect()},e)},E.prototype._onSCOpen=function(t){var e=this;this.preparingPendingSubscriptions=!0,t?(this.id=t.id,this.pingTimeout=t.pingTimeout,this.transport.pingTimeout=this.pingTimeout,t.isAuthenticated?this._changeToAuthenticatedState(t.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),o.prototype.emit.call(this,"connect",t,function(){e.processPendingSubscriptions()}),this._flushEmitBuffer()},E.prototype._onSCError=function(t){var e=this;setTimeout(function(){if(e.listeners("error").length<1)throw t;o.prototype.emit.call(e,"error",t)},0)},E.prototype._suspendSubscriptions=function(){var t,e;for(var n in this.channels)this.channels.hasOwnProperty(n)&&(t=this.channels[n],e=t.state==t.SUBSCRIBED||t.state==t.PENDING?t.PENDING:t.UNSUBSCRIBED,this._triggerChannelUnsubscribe(t,e))},E.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e,n=this._emitBuffer.head;n;){e=n.next;var r=n.data;clearTimeout(r.timeout),delete r.timeout,n.detach(),n=e;var o=r.callback;if(o){delete r.callback;var i="Event '"+r.event+"' was aborted due to a bad connection",s=new m(i,t);o.call(r,s,r)}}},E.prototype._onSCClose=function(t,e,n){var r=this;if(this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(n?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3==t||4001==t||1005==t?this._tryReconnect(0):1e3!=t&&t<4500&&this._tryReconnect()),n?o.prototype.emit.call(r,"connectAbort",t,e):o.prototype.emit.call(r,"disconnect",t,e),!E.ignoreStatuses[t]){var i;i=e?"Socket connection failed: "+e:"Socket connection failed for unknown reasons";var s=new v(E.errorStatuses[t]||i,t);this._onSCError(s)}},E.prototype._onSCEvent=function(t,e,n){var r=this._privateEventHandlerMap[t];r?r.call(this,e,n):o.prototype.emit.call(this,t,e,function(){n&&n.callback.apply(n,arguments)})},E.prototype.decode=function(t){return this.transport.decode(t)},E.prototype.encode=function(t){return this.transport.encode(t)},E.prototype._flushEmitBuffer=function(){for(var t,e=this._emitBuffer.head;e;){t=e.next;var n=e.data;e.detach(),this.transport.emitObject(n),e=t}},E.prototype._handleEventAckTimeout=function(t,e){e&&e.detach(),delete t.timeout;var n=t.callback;if(n){delete t.callback;var r=new g("Event response for '"+t.event+"' timed out");n.call(t,r,t)}},E.prototype._emit=function(t,e,n){var r=this;this.state==this.CLOSED&&this.connect();var o={event:t,callback:n},i=new h.Item;this.options.cloneData?o.data=p(e):o.data=e,i.data=o,o.timeout=setTimeout(function(){r._handleEventAckTimeout(o,i)},this.ackTimeout),this._emitBuffer.append(i),this.state==this.OPEN&&this._flushEmitBuffer()},E.prototype.send=function(t){this.transport.send(t)},E.prototype.emit=function(t,e,n){null==this._localEvents[t]?this._emit(t,e,n):o.prototype.emit.call(this,t,e)},E.prototype.publish=function(t,e,n){var r={channel:this._decorateChannelName(t),data:e};this.emit("#publish",r,n)},E.prototype._triggerChannelSubscribe=function(t,e){var n=t.name;if(t.state!=t.SUBSCRIBED){var r=t.state;t.state=t.SUBSCRIBED;var i={channel:n,oldState:r,newState:t.state,subscriptionOptions:e};t.emit("subscribeStateChange",i),t.emit("subscribe",n,e),o.prototype.emit.call(this,"subscribeStateChange",i),o.prototype.emit.call(this,"subscribe",n,e)}},E.prototype._triggerChannelSubscribeFail=function(t,e,n){var r=e.name,i=!e.waitForAuth||this.authState==this.AUTHENTICATED;e.state!=e.UNSUBSCRIBED&&i&&(e.state=e.UNSUBSCRIBED,e.emit("subscribeFail",t,r,n),o.prototype.emit.call(this,"subscribeFail",t,r,n))},E.prototype._cancelPendingSubscribeCallback=function(t){null!=t._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(t._pendingSubscriptionCid),delete t._pendingSubscriptionCid)},E.prototype._decorateChannelName=function(t){return this.channelPrefix&&(t=this.channelPrefix+t),t},E.prototype._undecorateChannelName=function(t){return this.channelPrefix&&0==t.indexOf(this.channelPrefix)?t.replace(this.channelPrefix,""):t},E.prototype._trySubscribe=function(t){var e=this,n=!t.waitForAuth||this.authState==this.AUTHENTICATED;if(this.state==this.OPEN&&!this.preparingPendingSubscriptions&&null==t._pendingSubscriptionCid&&n){var r={noTimeout:!0},i={channel:this._decorateChannelName(t.name)};t.waitForAuth&&(r.waitForAuth=!0,i.waitForAuth=r.waitForAuth),t.data&&(i.data=t.data),t._pendingSubscriptionCid=this.transport.emit("#subscribe",i,r,function(n){delete t._pendingSubscriptionCid,n?e._triggerChannelSubscribeFail(n,t,i):e._triggerChannelSubscribe(t,i)}),o.prototype.emit.call(this,"subscribeRequest",t.name,i)}},E.prototype.subscribe=function(t,e){var n=this.channels[t];return n?e&&n.setOptions(e):(n=new i(t,this,e),this.channels[t]=n),n.state==n.UNSUBSCRIBED&&(n.state=n.PENDING,this._trySubscribe(n)),n},E.prototype._triggerChannelUnsubscribe=function(t,e){var n=t.name,r=t.state;if(t.state=e||t.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(t),r==t.SUBSCRIBED){var i={channel:n,oldState:r,newState:t.state};t.emit("subscribeStateChange",i),t.emit("unsubscribe",n),o.prototype.emit.call(this,"subscribeStateChange",i),o.prototype.emit.call(this,"unsubscribe",n)}},E.prototype._tryUnsubscribe=function(t){if(this.state==this.OPEN){var e={noTimeout:!0};this._cancelPendingSubscribeCallback(t);var n=this._decorateChannelName(t.name);this.transport.emit("#unsubscribe",n,e)}},E.prototype.unsubscribe=function(t){var e=this.channels[t];e&&e.state!=e.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(e),this._tryUnsubscribe(e))},E.prototype.channel=function(t,e){var n=this.channels[t];return n||(n=new i(t,this,e),this.channels[t]=n),n},E.prototype.destroyChannel=function(t){var e=this.channels[t];e.unwatch(),e.unsubscribe(),delete this.channels[t]},E.prototype.subscriptions=function(t){var e,n=[];for(var r in this.channels)this.channels.hasOwnProperty(r)&&(e=this.channels[r],(t?e&&(e.state==e.SUBSCRIBED||e.state==e.PENDING):e&&e.state==e.SUBSCRIBED)&&n.push(r));return n},E.prototype.isSubscribed=function(t,e){var n=this.channels[t];return e?!!n&&(n.state==n.SUBSCRIBED||n.state==n.PENDING):!!n&&n.state==n.SUBSCRIBED},E.prototype.processPendingSubscriptions=function(){var t=this;this.preparingPendingSubscriptions=!1;var e=[];for(var n in this.channels)if(this.channels.hasOwnProperty(n)){var r=this.channels[n];r.state==r.PENDING&&e.push(r)}e.sort(function(t,e){var n=t.priority||0,r=e.priority||0;return n>r?-1:n<r?1:0}),e.forEach(function(e){t._trySubscribe(e)})},E.prototype.watch=function(t,e){if("function"!=typeof e)throw new d("No handler function was provided");this._channelEmitter.on(t,e)},E.prototype.unwatch=function(t,e){e?this._channelEmitter.removeListener(t,e):this._channelEmitter.removeAllListeners(t)},E.prototype.watchers=function(t){return this._channelEmitter.listeners(t)},t.exports=E}).call(e,n(0),n(4).Buffer)},function(t,e,n){"use strict";(function(t){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=i.prototype):(null===t&&(t=new i(e)),t.length=e),t}function i(t,e,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?h(t,e,n):f(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return a(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function u(t,e){if(a(e),t=o(t,e<0?0:0|d(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(e,n);t=o(t,r);var s=t.write(e,n);return s!==r&&(t=t.slice(0,s)),t}function l(t,e){var n=e.length<0?0:0|d(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),i.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=i.prototype):t=l(t,e),t}function f(t,e){if(i.isBuffer(e)){var n=0|d(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?o(t,0):l(t,e);if("Buffer"===e.type&&Z(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),i.alloc(+t)}function v(t,e){if(i.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=i.from(e,r)),i.isBuffer(e))return 0===e.length?-1:E(t,e,n,r,o);if("number"==typeof e)return e&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):E(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function E(t,e,n,r,o){function i(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}var u;if(o){var h=-1;for(u=n;u<a;u++)if(i(t,u)===i(e,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===c)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(n+c>a&&(n=a-c),u=n;u>=0;u--){for(var l=!0,p=0;p<c;p++)if(i(t,u+p)!==i(e,p)){l=!1;break}if(l)return u}return-1}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function k(t,e,n,r){return W(q(e,t.length-n),t,n,r)}function T(t,e,n,r){return W(z(e),t,n,r)}function S(t,e,n,r){return T(t,e,n,r)}function _(t,e,n,r){return W(J(e),t,n,r)}function A(t,e,n,r){return W($(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?V.fromByteArray(t):V.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=n){var c,u,h,l;switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],128==(192&c)&&(l=(31&i)<<6|63&c)>127&&(s=l);break;case 3:c=t[o+1],u=t[o+2],128==(192&c)&&128==(192&u)&&(l=(15&i)<<12|(63&c)<<6|63&u)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:c=t[o+1],u=t[o+2],h=t[o+3],128==(192&c)&&128==(192&u)&&128==(192&h)&&(l=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&h)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=a}return O(r)}function O(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Q));return n}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function N(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=H(t[i]);return o}function B(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,o,s){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function j(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,o){return o||j(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,r,23,4),n+4}function Y(t,e,n,r,o){return o||j(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,r,52,8),n+8}function F(t){if(t=G(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function $(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function J(t){return V.toByteArray(F(t))}function W(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function K(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Injam <info@injam.io> <https://injam.io>
 * @license  MIT
 */
var V=n(10),X=n(11),Z=n(12);e.Buffer=i,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),i.poolSize=8192,i._augment=function(t){return t.__proto__=i.prototype,t},i.from=function(t,e,n){return s(null,t,e,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(t,e,n){return c(null,t,e,n)},i.allocUnsafe=function(t){return u(null,t)},i.allocUnsafeSlow=function(t){return u(null,t)},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,s=Math.min(n,r);o<s;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=i.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var s=t[n];if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):g.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,n,r,o){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var s=o-r,a=n-e,c=Math.min(s,a),u=this.slice(r,o),h=t.slice(e,n),l=0;l<c;++l)if(u[l]!==h[l]){s=u[l],a=h[l];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},i.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},i.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=i.prototype;else{var o=e-t;r=new i(o,void 0);for(var s=0;s<o;++s)r[s]=this[s+t]}return r},i.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},i.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},i.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),X.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),X.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),X.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),X.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){U(this,t,e,n,Math.pow(2,8*n)-1,0)}var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){U(this,t,e,n,Math.pow(2,8*n)-1,0)}var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return Y(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return Y(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,s=r-n;if(this===t&&n<e&&e<r)for(o=s-1;o>=0;--o)t[o+e]=this[o+n];else if(s<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},i.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var a=i.isBuffer(t)?t:q(new i(t,r).toString()),c=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%c]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(0))},function(t,e,n){var r=n(2),o=r.InvalidActionError,i=function(t,e){this.socket=t,this.id=e,this.sent=!1};i.prototype._respond=function(t){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(t))},i.prototype.end=function(t){if(this.id){var e={rid:this.id};void 0!==t&&(e.data=t),this._respond(e)}},i.prototype.error=function(t,e){if(this.id){var n=r.dehydrateError(t),o={rid:this.id,error:n};void 0!==e&&(o.data=e),this._respond(o)}},i.prototype.callback=function(t,e){t?this.error(t,e):this.end(e)},t.exports.Response=i},function(t,e,n){"use strict";e.decode=e.parse=n(18),e.encode=e.stringify=n(19)},function(t,e,n){"use strict";(function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(8),a=n(9),c=n(27).EventEmitter;t.Injam=function(n){function c(t){e(this,c);var n=r(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return n.credentials=t,n}return o(c,n),i(c,[{key:"connect",value:function(){var e=this;t.Socket=a.connect({hostname:s.host,secure:s.secure,port:s.port,path:s.path,authTokenName:"Injam.authToken"}),t.batchPositions=[],Socket.on("connecting",function(){e.emit("connecting")}).on("connect",function(t){e.emit("connected"),t.isAuthenticated||(e.emit("unauthorized"),e.credentials.package_name=e.getPackageName(),Socket.emit("login",e.credentials,function(t){}))}).on("toSubscribe",function(t){e.subscribe(t)}).on("subscribe",function(t){e.emit("subscribed",t)}).on("subscribeFail",function(t){e.emit("subscribeFail",t)}).on("unsubscribe",function(t){e.emit("unsubscribed",t)}).on("authenticate",function(t){e.emit("authenticated",t)}).on("deauthenticate",function(){e.emit("unauthorized"),Socket.emit("login",e.credentials,function(t){})}).on("disconnect",function(t){e.emit("disconnected",t)}).on("close",function(t){e.emit("closed",t)})}},{key:"watchLocation",value:function(e,n){e=void 0===e||e,n=void 0!==n&&n;var r=this,o={timeout:5e3,enableHighAccuracy:!0,maximumAge:1/0};e?(t.watchLocationInterval=setInterval(function(){t.getCurrentPosition=navigator.geolocation.getCurrentPosition(r.setBatchPositions,this.geolocationError,o)},500),t.emitNewPositionInterval=setInterval(function(){t.batchPositions.length&&(r.emit("newPosition",{coordinates:h(t.batchPositions)}),t.batchPositions=[])},5e3)):n&&n>=3e3?t.emitNewPositionInterval=setInterval(function(){t.getCurrentPosition=navigator.geolocation.getCurrentPosition(function(t){r.emit("newPosition",{lat:t.coords.latitude,lng:t.coords.longitude})},this.geolocationError,o)},n):t.watchPosition=navigator.geolocation.watchPosition(function(t){r.emit("newPosition",{lat:t.coords.latitude,lng:t.coords.longitude})},this.geolocationError,o)}},{key:"stopWatchLocation",value:function(){navigator.geolocation.clearWatch(t.watchPosition),clearInterval(t.watchLocationInterval),clearInterval(t.emitNewPositionInterval)}},{key:"updateLocation",value:function(t){Socket.emit("newPosition",t)}},{key:"subscribe",value:function(t){var e=this;Socket.subscribe(t,{waitForAuth:!0}).watch(function(n){e.watchData(t,n)})}},{key:"unsubscribe",value:function(t){Socket.unsubscribe(t)}},{key:"watch",value:function(t){Socket.watch(function(e){$this.watchData(t,e)})}},{key:"unwatch",value:function(t){Socket.unwatch(t)}},{key:"isSubscribed",value:function(t,e){e=void 0===e||e,Socket.isSubscribed(t,e)}},{key:"publish",value:function(t){Socket.publish(this.credentials.physical_id,t)}},{key:"watchData",value:function(t,e){var n=this;if(u(e)?(e=JSON.parse(e),e.channel=t):e={channel:t,data:e},e.location)if(e.location.coordinates){var r=e.location.coordinates;delete e.location.coordinates,function t(){setTimeout(function(){++o<r.length&&(e.location.lat=r[o].lat,e.location.lng=r[o].lng,n.emit("tracking",e),t())},500)}();var o=0}else n.emit("tracking",e);else n.emit("rawData",e)}},{key:"geolocationError",value:function(t){t.length>0&&console.log("Geo Error: "+JSON.stringify(t))}},{key:"setBatchPositions",value:function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};t.batchPositions.push(n),t.batchPositions.length>50&&(t.batchPositions=t.batchPositions.slice(t.batchPositions.length-50,t.batchPositions.length))}},{key:"disconnect",value:function(){Socket.destroy(),this.removeAllListeners("connecting"),this.removeAllListeners("connected"),this.removeAllListeners("authenticated"),this.removeAllListeners("unauthorized"),this.removeAllListeners("subscribed"),this.removeAllListeners("subscribeFail"),this.removeAllListeners("unsubscribed"),this.removeAllListeners("rawData"),this.removeAllListeners("tracking"),this.removeAllListeners("newPosition"),this.removeAllListeners("disconnected"),this.removeAllListeners("closed"),clearInterval(t.watchLocationInterval),clearInterval(t.emitNewPositionInterval)}},{key:"getPackageName",value:function(){return t.location&&""!=t.location.hostname?t.location.hostname:"localhost"}},{key:"clearToken",value:function(){t.localStorage.removeItem("Injam.authToken")}}]),c}(c);var u=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},h=function(t,e){for(var n={},r=0,o=t.length;r<o;r++)n[t[r][e]]||(n[t[r][e]]=t[r]);var i=[];for(var s in n)i.push(n[s]);return i};Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return-1;if(n=+e||0,1/0===Math.abs(n)&&(n=0),n>=o)return-1;for(n=Math.max(0<=n?n:o-Math.abs(n),0);n<o;){if(n in r&&r[n]===t)return n;n++}return-1})}).call(e,n(0))},function(t,e){t.exports={host:"core.injam.io",port:8080,path:"/s",secure:!0}},function(t,e,n){var r=n(3),o=n(26);t.exports.SCSocketCreator=o,t.exports.SCSocket=r,t.exports.Emitter=n(1),t.exports.connect=function(t){return o.connect(t)},t.exports.destroy=function(t){return o.destroy(t)},t.exports.connections=o.connections,t.exports.version="7.0.2"},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t){return 3*t.length/4-r(t)}function i(t){var e,n,o,i,s,a=t.length;i=r(t),s=new l(3*a/4-i),n=i>0?a-4:a;var c=0;for(e=0;e<n;e+=4)o=h[t.charCodeAt(e)]<<18|h[t.charCodeAt(e+1)]<<12|h[t.charCodeAt(e+2)]<<6|h[t.charCodeAt(e+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return 2===i?(o=h[t.charCodeAt(e)]<<2|h[t.charCodeAt(e+1)]>>4,s[c++]=255&o):1===i&&(o=h[t.charCodeAt(e)]<<10|h[t.charCodeAt(e+1)]<<4|h[t.charCodeAt(e+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}function s(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],o.push(s(r));return o.join("")}function c(t){for(var e,n=t.length,r=n%3,o="",i=[],s=0,c=n-r;s<c;s+=16383)i.push(a(t,s,s+16383>c?c:s+16383));return 1===r?(e=t[n-1],o+=u[e>>2],o+=u[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=u[e>>10],o+=u[e>>4&63],o+=u[e<<2&63],o+="="),i.push(o),i.join("")}e.byteLength=o,e.toByteArray=i,e.fromByteArray=c;for(var u=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=p.length;f<d;++f)u[f]=p[f],h[p.charCodeAt(f)]=f;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?o-1:0,p=n?-1:1,f=t[e+l];for(l+=p,i=f&(1<<-h)-1,f>>=-h,h+=a;h>0;i=256*i+t[e+l],l+=p,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=p,h-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),i-=u}return(f?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,h=(1<<u)-1,l=h>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+l>=1?p/c:p*Math.pow(2,1-l),e*c>=2&&(s++,c/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*c-1)*Math.pow(2,o),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[n+f]=255&a,f+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+f]=255&s,f+=d,s/=256,u-=8);t[n+f-d]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=n(1),o=function(t,e,n){r.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=t,this.state=this.UNSUBSCRIBED,this.client=e,this.options=n||{},this.setOptions(this.options)};o.prototype=Object.create(r.prototype),o.prototype.setOptions=function(t){t||(t={}),this.waitForAuth=t.waitForAuth||!1,void 0!==t.data&&(this.data=t.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(t){this.client.subscribe(this.name,t)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(t){return this.client.isSubscribed(this.name,t)},o.prototype.publish=function(t,e){this.client.publish(this.name,t,e)},o.prototype.watch=function(t){this.client.watch(this.name,t)},o.prototype.unwatch=function(t){this.client.unwatch(this.name,t)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},t.exports.SCChannel=o},function(t,e){t.exports=function(t){var e=[],n=[];return function t(r,o){var i,s,a;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(i=0;i<e.length;i+=1)if(e[i]===r)return{$ref:n[i]};if(e.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],i=0;i<r.length;i+=1)a[i]=t(r[i],o+"["+i+"]");else{a={};for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=t(r[s],o+"["+JSON.stringify(s)+"]"))}return a}return r}(t,"$")}},function(t,e,n){(function(e){var n=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};n.prototype._checkLocalStorageEnabled=function(){var t;try{e.localStorage,e.localStorage.setItem("__scLocalStorageTest",1),e.localStorage.removeItem("__scLocalStorageTest")}catch(e){t=e}return!t},n.prototype.saveToken=function(t,n,r,o){this.isLocalStorageEnabled&&e.localStorage?e.localStorage.setItem(t,n):this._internalStorage[t]=n,o&&o(null,n)},n.prototype.removeToken=function(t,n){var r;this.loadToken(t,function(t,e){r=e}),this.isLocalStorageEnabled&&e.localStorage?e.localStorage.removeItem(t):delete this._internalStorage[t],n&&n(null,r)},n.prototype.loadToken=function(t,n){var r;r=this.isLocalStorageEnabled&&e.localStorage?e.localStorage.getItem(t):this._internalStorage[t]||null,n(null,r)},t.exports.AuthEngine=n}).call(e,n(0))},function(t,e,n){(function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=/^[ \n\r\t]*[{\[]/,o=function(t){for(var e=new Uint8Array(t),r=e.length,o="",i=0;i<r;i+=3)o+=n[e[i]>>2],o+=n[(3&e[i])<<4|e[i+1]>>4],o+=n[(15&e[i+1])<<2|e[i+2]>>6],o+=n[63&e[i+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},i=function(t,n){if(e.ArrayBuffer&&n instanceof e.ArrayBuffer)return{base64:!0,data:o(n)};if(e.Buffer){if(n instanceof e.Buffer)return{base64:!0,data:n.toString("base64")};if(n&&"Buffer"===n.type&&Array.isArray(n.data)){var r;return r=e.Buffer.from?e.Buffer.from(n.data):new e.Buffer(n.data),{base64:!0,data:r.toString("base64")}}}return n};t.exports.decode=function(t){if(null==t)return null;if("#1"===t||"#2"===t)return t;var e=t.toString();if(!r.test(e))return e;try{return JSON.parse(e)}catch(t){}return e},t.exports.encode=function(t){return"#1"===t||"#2"===t?t:JSON.stringify(t,i)}}).call(e,n(0))},function(t,e,n){(function(e){var r,o,i=n(1),s=n(5).Response,a=n(6);e.WebSocket?(r=e.WebSocket,o=function(t,e){return new r(t)}):(r=n(20),o=function(t,e){return new r(t,null,e)});var c=n(2),u=c.TimeoutError,h=c.BadConnectionError,l=function(t,e,n){this.state=this.CLOSED,this.auth=t,this.codec=e,this.options=n,this.connectTimeout=n.connectTimeout,this.pingTimeout=n.ackTimeout,this.callIdGenerator=n.callIdGenerator,this.authTokenName=n.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this.open()};l.prototype=Object.create(i.prototype),l.CONNECTING=l.prototype.CONNECTING="connecting",l.OPEN=l.prototype.OPEN="open",l.CLOSED=l.prototype.CLOSED="closed",l.prototype.uri=function(){var t=this.options.query||{},e=this.options.secure?"wss":"ws";this.options.timestampRequests&&(t[this.options.timestampParam]=(new Date).getTime()),t=a.encode(t),t.length&&(t="?"+t);var n;if(this.options.host)n=this.options.host;else{var r="";this.options.port&&("wss"==e&&443!=this.options.port||"ws"==e&&80!=this.options.port)&&(r=":"+this.options.port),n=this.options.hostname+r}return e+"://"+n+this.options.path+t},l.prototype.open=function(){var t=this;this.state=this.CONNECTING;var e=this.uri(),n=o(e,this.options);n.binaryType=this.options.binaryType,this.socket=n,n.onopen=function(){t._onOpen()},n.onclose=function(e){var n;n=null==e.code?1005:e.code,t._onClose(n,e.reason)},n.onmessage=function(e,n){t._onMessage(e.data)},n.onerror=function(e){t.state===t.CONNECTING&&t._onClose(1006)},this._connectTimeoutRef=setTimeout(function(){t._onClose(4007),t.socket.close(4007)},this.connectTimeout)},l.prototype._onOpen=function(){var t=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake(function(e,n){e?(t._onError(e),t._onClose(4003),t.socket.close(4003)):(t.state=t.OPEN,i.prototype.emit.call(t,"open",n),t._resetPingTimeout())})},l.prototype._handshake=function(t){var e=this;this.auth.loadToken(this.authTokenName,function(n,r){if(n)t(n);else{var o={force:!0};e.emit("#handshake",{authToken:r},o,function(e,n){n&&(n.authToken=r,n.authError&&(n.authError=c.hydrateError(n.authError))),t(e,n)})}})},l.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e in this._callbackMap)if(this._callbackMap.hasOwnProperty(e)){var n=this._callbackMap[e];delete this._callbackMap[e],clearTimeout(n.timeout),delete n.timeout;var r="Event '"+n.event+"' was aborted due to a bad connection",o=new h(r,t),i=n.callback;delete n.callback,i.call(n,o,n)}},l.prototype._onClose=function(t,e){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),this.state==this.OPEN?(this.state=this.CLOSED,i.prototype.emit.call(this,"close",t,e),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state==this.CONNECTING&&(this.state=this.CLOSED,i.prototype.emit.call(this,"openAbort",t,e),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},l.prototype._onMessage=function(t){i.prototype.emit.call(this,"event","message",t);var e=this.decode(t);if("#1"==e)this._resetPingTimeout(),this.socket.readyState==this.socket.OPEN&&this.sendObject("#2");else{var n=e.event;if(n){var r=new s(this,e.cid);i.prototype.emit.call(this,"event",n,e.data,r)}else if(null!=e.rid){var o=this._callbackMap[e.rid];if(o&&(clearTimeout(o.timeout),delete o.timeout,delete this._callbackMap[e.rid],o.callback)){var a=c.hydrateError(e.error);o.callback(a,e.data)}}else i.prototype.emit.call(this,"event","raw",e)}},l.prototype._onError=function(t){i.prototype.emit.call(this,"error",t)},l.prototype._resetPingTimeout=function(){var t=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout(function(){t._onClose(4e3),t.socket.close(4e3)},this.pingTimeout)},l.prototype.getBytesReceived=function(){return this.socket.bytesReceived},l.prototype.close=function(t,e){if(t=t||1e3,this.state==this.OPEN){var n={code:t,data:e};this.emit("#disconnect",n),this._onClose(t,e),this.socket.close(t)}else this.state==this.CONNECTING&&(this._onClose(t,e),this.socket.close(t))},l.prototype.emitObject=function(t){var e={event:t.event,data:t.data};return t.callback&&(e.cid=t.cid=this.callIdGenerator(),this._callbackMap[t.cid]=t),this.sendObject(e),t.cid||null},l.prototype._handleEventAckTimeout=function(t){t.cid&&delete this._callbackMap[t.cid],delete t.timeout;var e=t.callback;if(e){delete t.callback;var n=new u("Event response for '"+t.event+"' timed out");e.call(t,n,t)}},l.prototype.emit=function(t,e,n,r){var o,i,s=this;r?(i=n,o=r):n instanceof Function?(i={},o=n):i=n;var a={event:t,data:e,callback:o};o&&!i.noTimeout&&(a.timeout=setTimeout(function(){s._handleEventAckTimeout(a)},this.options.ackTimeout));var c=null;return(this.state==this.OPEN||i.force)&&(c=this.emitObject(a)),c},l.prototype.cancelPendingResponse=function(t){delete this._callbackMap[t]},l.prototype.decode=function(t){return this.codec.decode(t)},l.prototype.encode=function(t){return this.codec.encode(t)},l.prototype.send=function(t){this.socket.readyState!=this.socket.OPEN?this._onClose(1005):this.socket.send(t)},l.prototype.serializeObject=function(t){var e,n;try{e=this.encode(t)}catch(t){n=t,this._onError(n)}return n?null:e},l.prototype.sendObject=function(t){var e=this.serializeObject(t);null!=e&&this.send(e)},t.exports.SCTransport=l}).call(e,n(0))},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var h=0;h<u;++h){var l,p,f,d,y=t[h].replace(a,"%20"),v=y.indexOf(n);v>=0?(l=y.substr(0,v),p=y.substr(v+1)):(l=y,p=""),f=decodeURIComponent(l),d=decodeURIComponent(p),r(s,f)?o(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(s(t),function(s){var a=encodeURIComponent(o(s))+n;return i(t[s])?r(t[s],function(t){return a+encodeURIComponent(o(t))}).join(e):a+encodeURIComponent(o(t[s]))}).join(e):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e){function n(t,e,n){return e?new o(t,e):new o(t)}var r;r="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}();var o=r.WebSocket||r.MozWebSocket;o&&(n.prototype=o.prototype),t.exports=o?n:null},function(t,e,n){"use strict";t.exports=n(22)},function(t,e,n){"use strict";function r(){if(arguments.length)return r.from(arguments)}function o(){}var i;i="An argument without append, prepend, or detach methods was given to `List";var s;s=r.prototype,r.of=function(){return r.from.call(this,arguments)},r.from=function(t){var e,n,r,o=new this;if(t&&(e=t.length))for(n=-1;++n<e;)null!==(r=t[n])&&void 0!==r&&o.append(r);return o},s.head=null,s.tail=null,s.toArray=function(){for(var t=this.head,e=[];t;)e.push(t),t=t.next;return e},s.prepend=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(i+"#prepend`.");var e,n;return e=this,(n=e.head)?n.prepend(t):(t.detach(),t.list=e,e.head=t,t)},s.append=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(i+"#append`.");var e,n,r;return e=this,(r=e.tail)?r.append(t):(n=e.head)?n.append(t):(t.detach(),t.list=e,e.head=t,t)},r.Item=o;var a=o.prototype;a.next=null,a.prev=null,a.list=null,a.detach=function(){var t=this,e=t.list,n=t.prev,r=t.next;return e?(e.tail===t&&(e.tail=n),e.head===t&&(e.head=r),e.tail===e.head&&(e.tail=null),n&&(n.next=r),r&&(r.prev=n),t.prev=t.next=t.list=null,t):t},a.prepend=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(i+"Item#prepend`.");var e=this,n=e.list,r=e.prev;return!!n&&(t.detach(),r&&(t.prev=r,r.next=t),t.next=e,t.list=n,e.prev=t,e===n.head&&(n.head=t),n.tail||(n.tail=e),t)},a.append=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(i+"Item#append`.");var e=this,n=e.list,r=e.next;return!!n&&(t.detach(),r&&(t.next=r,r.prev=t),t.prev=e,t.list=n,e.next=t,e!==n.tail&&n.tail||(n.tail=t),t)},t.exports=r},function(t,e,n){(function(t,r){var o;!function(i){var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof r&&r);var c=function(t){this.message=t};c.prototype=new Error,c.prototype.name="InvalidCharacterError";var u=function(t){throw new c(t)},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,p=function(t){t=String(t).replace(l,"");var e=t.length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,i="",s=-1;++s<e;)r=h.indexOf(t.charAt(s)),n=o%4?64*n+r:r,o++%4&&(i+=String.fromCharCode(255&n>>(-2*o&6)));return i},f=function(t){t=String(t),/[^\0-\xFF]/.test(t)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,o,i=t.length%3,s="",a=-1,c=t.length-i;++a<c;)e=t.charCodeAt(a)<<16,n=t.charCodeAt(++a)<<8,r=t.charCodeAt(++a),o=e+n+r,s+=h.charAt(o>>18&63)+h.charAt(o>>12&63)+h.charAt(o>>6&63)+h.charAt(63&o);return 2==i?(e=t.charCodeAt(a)<<8,n=t.charCodeAt(++a),o=e+n,s+=h.charAt(o>>10)+h.charAt(o>>4&63)+h.charAt(o<<2&63)+"="):1==i&&(o=t.charCodeAt(a),s+=h.charAt(o>>2)+h.charAt(o<<4&63)+"=="),s},d={encode:f,decode:p,version:"0.1.0"};void 0!==(o=function(){return d}.call(e,n,e,t))&&(t.exports=o)}()}).call(e,n(24)(t),n(0))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}function n(r,o,i,s,l){function p(r,i){if(null===r)return null;if(0===i)return r;var v,g;if("object"!=typeof r)return r;if(t(r,c))v=new c;else if(t(r,u))v=new u;else if(t(r,h))v=new h(function(t,e){r.then(function(e){t(p(e,i-1))},function(t){e(p(t,i-1))})});else if(n.__isArray(r))v=[];else if(n.__isRegExp(r))v=new RegExp(r.source,a(r)),r.lastIndex&&(v.lastIndex=r.lastIndex);else if(n.__isDate(r))v=new Date(r.getTime());else{if(y&&e.isBuffer(r))return v=new e(r.length),r.copy(v),v;t(r,Error)?v=Object.create(r):void 0===s?(g=Object.getPrototypeOf(r),v=Object.create(g)):(v=Object.create(s),g=s)}if(o){var m=f.indexOf(r);if(-1!=m)return d[m];f.push(r),d.push(v)}t(r,c)&&r.forEach(function(t,e){var n=p(e,i-1),r=p(t,i-1);v.set(n,r)}),t(r,u)&&r.forEach(function(t){var e=p(t,i-1);v.add(e)});for(var b in r){var E;g&&(E=Object.getOwnPropertyDescriptor(g,b)),E&&null==E.set||(v[b]=p(r[b],i-1))}if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(r),b=0;b<w.length;b++){var k=w[b],T=Object.getOwnPropertyDescriptor(r,k);(!T||T.enumerable||l)&&(v[k]=p(r[k],i-1),T.enumerable||Object.defineProperty(v,k,{enumerable:!1}))}if(l)for(var S=Object.getOwnPropertyNames(r),b=0;b<S.length;b++){var _=S[b],T=Object.getOwnPropertyDescriptor(r,_);T&&T.enumerable||(v[_]=p(r[_],i-1),Object.defineProperty(v,_,{enumerable:!1}))}return v}"object"==typeof o&&(i=o.depth,s=o.prototype,l=o.includeNonEnumerable,o=o.circular);var f=[],d=[],y=void 0!==e;return void 0===o&&(o=!0),void 0===i&&(i=1/0),p(r,i)}function r(t){return Object.prototype.toString.call(t)}function o(t){return"object"==typeof t&&"[object Date]"===r(t)}function i(t){return"object"==typeof t&&"[object Array]"===r(t)}function s(t){return"object"==typeof t&&"[object RegExp]"===r(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var c;try{c=Map}catch(t){c=function(){}}var u;try{u=Set}catch(t){u=function(){}}var h;try{h=Promise}catch(t){h=function(){}}return n.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},n.__objToStr=r,n.__isDate=o,n.__isArray=i,n.__isRegExp=s,n.__getRegExpFlags=a,n}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(4).Buffer)},function(t,e,n){(function(e){function r(t){var e=t.secure?"https://":"http://",n="";if(t.query)if("string"==typeof t.query)n=t.query;else{var r=[],o=t.query;for(var i in o)o.hasOwnProperty(i)&&r.push(i+"="+o[i]);r.length&&(n="?"+r.join("&"))}var s;return s=t.host?t.host:t.hostname+":"+t.port,e+s+t.path+n}function o(){return e.location&&"https:"==location.protocol}function i(t,n){var r=null==t.secure?n:t.secure;return t.port||(e.location&&location.port?location.port:r?443:80)}function s(t){if(t=t||{},t.host&&t.port)throw new h("The host option should already include the port number in the format hostname:port - Because of this, the host and port options cannot be specified together; use the hostname option instead");var n=o(),s={port:i(t,n),hostname:e.location&&location.hostname,path:"/s/",secure:n,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"Injam.authToken",binaryType:"arraybuffer",multiplex:!0,cloneData:!1};for(var a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);var u=r(s);return!1===s.multiplex?new c(s):(l[u]?l[u].connect():l[u]=new c(s),l[u])}function a(t){t=t||{};var n=o(),s={port:i(t,n),hostname:e.location&&location.hostname,path:"/s/",secure:n};for(var a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);var c=r(s),u=l[c];u&&u.destroy(),delete l[c]}var c=n(3),u=n(2),h=u.InvalidArgumentsError,l={};t.exports={connect:s,destroy:a,connections:l}}).call(e,n(0))},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,a,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),o=u.length,c=0;c<o;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}}]);
},{}],2:[function(require,module,exports){
var injamSdk = require('injam-sdk')



window.markers = []



// Put your physical id and application key

window.credentials = {
    physical_id: 'YOUR_PHYSICAL_ID',
    channels: [],
    application_key: 'YOUR_APPLICATION_KEY'
}



// Some locations

window.Asia = {
    lat: 23.800029,
    lng: 62.4289998
}



// Google Maps Sample

window.connectForGoogleMaps = function() {

    // Connect to Injam

    window.injam = new Injam(credentials)
    injam.connect()

    injam.on('subscribed', function (channel) {
        M.toast({html: 'Subscribed ' + channel})
    })

    injam.on('unsubscribed', function (channel) {
        M.toast({html: 'Unsubscribed ' + channel})
    })


    // Showing devices on Google Maps by markers when receiving location data

    injam.on('tracking', function (data) {
        if (markers[data.channel]) {
            var latlng = new google.maps.LatLng(data.location.lat, data.location.lng)
            markers[data.channel].setPosition(latlng)
            // Uncomment below if you want lock to one marker
            // map.panTo(latlng)
        } else {
            addMarkerGMaps(data.channel, {lat: data.location.lat, lng: data.location.lng}, map)
            var latlng = new google.maps.LatLng(data.location.lat, data.location.lng)
            markers[data.channel].setPosition(latlng)
            map.panTo(latlng)
        }
    })


    // Google Map init

    window.map = new google.maps.Map(document.getElementById('map'), {
        zoom: 3,
        center: Asia,
        scrollwheel: false,
        navigationControl: false,
        mapTypeControl: false,
        scaleControl: false,
        fullscreenControl: true,
        streetViewControl: false
    })

}



// Most useful Google Maps functions

window.addMarkerGMaps = function(id, location, map) {
    markers[id] = new google.maps.Marker({
        map: map,
        animation: google.maps.Animation.DROP,
        position: location,
        title: id
    })
}

window.setMapOnAllGMaps = function(map) {
    for (var i = 0; i < window.Markers.length; i++) {
        markers[i].setMap(map)
    }
}

window.clearMarkersGMaps = function() {
    setMapOnAllGMaps(null)
}

window.deleteMarkersGMaps = function() {
    clearMarkersGMaps()
    markers = []
}



// Open Street Map Sample

window.connectForOpenStreetMap = function() {

}



// Messaging Sample

window.connectForMessaging = function() {

    // Connect to Injam

    window.injam = new Injam(credentials)
    injam.connect()

    injam.on('subscribed', function (channel) {
        M.toast({html: 'Subscribed ' + channel})
    })

    injam.on('unsubscribed', function (channel) {
        M.toast({html: 'Unsubscribed ' + channel})
    })

    injam.on('rawData', function (data) {
        var message = data.data || data.message || data.body
        $('#board .messages').prepend('<div class="message-holder"><div class="message">'
        + '<span class="title">' + data.channel + '</span>'
        + '<p class="body">' + message + '</p>'
        + '</div></div>')
    })

}

if ($('#board').length) {
    connectForMessaging()
}



// Subscribe

$('.sub').on('click', function(e) {
    e.preventDefault()
    var channel = $('#subscription').val()
    if (channel != '')
        injam.subscribe(channel)
})



// Unsubscribe

$('.unsub').on('click', function(e) {
    e.preventDefault()
    var channel = $('#subscription').val()
    if (channel != '')
        injam.unsubscribe(channel)
})



// Send Data

$('.send').on('click', function(e) {
    e.preventDefault()
    var data = $('#data').val()
    if (data != '')
        injam.publish(data)
})
},{"injam-sdk":1}]},{},[2])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi91c3IvbG9jYWwvdmFyL3d3dy9pbmphbS5pby93ZWItc2FtcGxlcy9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL3Vzci9sb2NhbC92YXIvd3d3L2luamFtLmlvL3dlYi1zYW1wbGVzL25vZGVfbW9kdWxlcy9pbmphbS1zZGsvaW5qYW0tc2RrLmpzIiwiL3Vzci9sb2NhbC92YXIvd3d3L2luamFtLmlvL3dlYi1zYW1wbGVzL3NyYy9qcy9mYWtlX2MwNTg0NzgzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiIWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBvPW5bcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGUpLG8ubD0hMCxvLmV4cG9ydHN9dmFyIG49e307ZS5tPXQsZS5jPW4sZS5kPWZ1bmN0aW9uKHQsbixyKXtlLm8odCxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sZS5uPWZ1bmN0aW9uKHQpe3ZhciBuPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBlLmQobixcImFcIixuKSxufSxlLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LGUucD1cIlwiLGUoZS5zPTcpfShbZnVuY3Rpb24odCxlKXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7aWYodClyZXR1cm4gbyh0KX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZSBpbiByLnByb3RvdHlwZSl0W2VdPXIucHJvdG90eXBlW2VdO3JldHVybiB0fXQuZXhwb3J0cz1yLHIucHJvdG90eXBlLm9uPXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sKHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XT10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF18fFtdKS5wdXNoKGUpLHRoaXN9LHIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5vZmYodCxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbi5mbj1lLHRoaXMub24odCxuKSx0aGlzfSxyLnByb3RvdHlwZS5vZmY9ci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLl9jYWxsYmFja3M9e30sdGhpczt2YXIgbj10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF07aWYoIW4pcmV0dXJuIHRoaXM7aWYoMT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSx0aGlzO2Zvcih2YXIgcixvPTA7bzxuLmxlbmd0aDtvKyspaWYoKHI9bltvXSk9PT1lfHxyLmZuPT09ZSl7bi5zcGxpY2UobywxKTticmVha31yZXR1cm4gdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0KXt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fTt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XTtpZihuKXtuPW4uc2xpY2UoMCk7Zm9yKHZhciByPTAsbz1uLmxlbmd0aDtyPG87KytyKW5bcl0uYXBwbHkodGhpcyxlKX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF18fFtdfSxyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmxpc3RlbmVycyh0KS5sZW5ndGh9fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3RoaXMubmFtZT1cIkF1dGhUb2tlbkV4cGlyZWRFcnJvclwiLHRoaXMubWVzc2FnZT10LHRoaXMuZXhwaXJ5PWUsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJiFrP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYXJndW1lbnRzLmNhbGxlZSk6dGhpcy5zdGFjaz0obmV3IEVycm9yKS5zdGFja31mdW5jdGlvbiBvKHQpe3RoaXMubmFtZT1cIkF1dGhUb2tlbkludmFsaWRFcnJvclwiLHRoaXMubWVzc2FnZT10LEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiYhaz9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGFyZ3VtZW50cy5jYWxsZWUpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9ZnVuY3Rpb24gaSh0LGUpe3RoaXMubmFtZT1cIkF1dGhUb2tlbk5vdEJlZm9yZUVycm9yXCIsdGhpcy5tZXNzYWdlPXQsdGhpcy5kYXRlPWUsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJiFrP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYXJndW1lbnRzLmNhbGxlZSk6dGhpcy5zdGFjaz0obmV3IEVycm9yKS5zdGFja31mdW5jdGlvbiBzKHQpe3RoaXMubmFtZT1cIkF1dGhUb2tlbkVycm9yXCIsdGhpcy5tZXNzYWdlPXQsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJiFrP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYXJndW1lbnRzLmNhbGxlZSk6dGhpcy5zdGFjaz0obmV3IEVycm9yKS5zdGFja31mdW5jdGlvbiBhKHQsZSl7dGhpcy5uYW1lPVwiU2lsZW50TWlkZGxld2FyZUJsb2NrZWRFcnJvclwiLHRoaXMubWVzc2FnZT10LHRoaXMudHlwZT1lLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiYhaz9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGFyZ3VtZW50cy5jYWxsZWUpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9ZnVuY3Rpb24gYyh0KXt0aGlzLm5hbWU9XCJJbnZhbGlkQWN0aW9uRXJyb3JcIix0aGlzLm1lc3NhZ2U9dCxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmIWs/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxhcmd1bWVudHMuY2FsbGVlKTp0aGlzLnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfWZ1bmN0aW9uIHUodCl7dGhpcy5uYW1lPVwiSW52YWxpZEFyZ3VtZW50c0Vycm9yXCIsdGhpcy5tZXNzYWdlPXQsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJiFrP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYXJndW1lbnRzLmNhbGxlZSk6dGhpcy5zdGFjaz0obmV3IEVycm9yKS5zdGFja31mdW5jdGlvbiBoKHQpe3RoaXMubmFtZT1cIkludmFsaWRPcHRpb25zRXJyb3JcIix0aGlzLm1lc3NhZ2U9dCxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmIWs/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxhcmd1bWVudHMuY2FsbGVlKTp0aGlzLnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfWZ1bmN0aW9uIGwodCl7dGhpcy5uYW1lPVwiSW52YWxpZE1lc3NhZ2VFcnJvclwiLHRoaXMubWVzc2FnZT10LEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiYhaz9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGFyZ3VtZW50cy5jYWxsZWUpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9ZnVuY3Rpb24gcCh0LGUpe3RoaXMubmFtZT1cIlNvY2tldFByb3RvY29sRXJyb3JcIix0aGlzLm1lc3NhZ2U9dCx0aGlzLmNvZGU9ZSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmIWs/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxhcmd1bWVudHMuY2FsbGVlKTp0aGlzLnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfWZ1bmN0aW9uIGYodCl7dGhpcy5uYW1lPVwiU2VydmVyUHJvdG9jb2xFcnJvclwiLHRoaXMubWVzc2FnZT10LEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiYhaz9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGFyZ3VtZW50cy5jYWxsZWUpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9ZnVuY3Rpb24gZCh0KXt0aGlzLm5hbWU9XCJIVFRQU2VydmVyRXJyb3JcIix0aGlzLm1lc3NhZ2U9dCxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmIWs/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxhcmd1bWVudHMuY2FsbGVlKTp0aGlzLnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfWZ1bmN0aW9uIHkodCl7dGhpcy5uYW1lPVwiUmVzb3VyY2VMaW1pdEVycm9yXCIsdGhpcy5tZXNzYWdlPXQsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJiFrP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYXJndW1lbnRzLmNhbGxlZSk6dGhpcy5zdGFjaz0obmV3IEVycm9yKS5zdGFja31mdW5jdGlvbiB2KHQpe3RoaXMubmFtZT1cIlRpbWVvdXRFcnJvclwiLHRoaXMubWVzc2FnZT10LEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiYhaz9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGFyZ3VtZW50cy5jYWxsZWUpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9ZnVuY3Rpb24gZyh0LGUpe3RoaXMubmFtZT1cIkJhZENvbm5lY3Rpb25FcnJvclwiLHRoaXMubWVzc2FnZT10LHRoaXMudHlwZT1lLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiYhaz9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGFyZ3VtZW50cy5jYWxsZWUpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9ZnVuY3Rpb24gbSh0KXt0aGlzLm5hbWU9XCJCcm9rZXJFcnJvclwiLHRoaXMubWVzc2FnZT10LEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiYhaz9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGFyZ3VtZW50cy5jYWxsZWUpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9ZnVuY3Rpb24gYih0LGUpe3RoaXMubmFtZT1cIlByb2Nlc3NFeGl0RXJyb3JcIix0aGlzLm1lc3NhZ2U9dCx0aGlzLmNvZGU9ZSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmIWs/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxhcmd1bWVudHMuY2FsbGVlKTp0aGlzLnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfWZ1bmN0aW9uIEUodCl7dGhpcy5uYW1lPVwiVW5rbm93bkVycm9yXCIsdGhpcy5tZXNzYWdlPXQsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJiFrP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYXJndW1lbnRzLmNhbGxlZSk6dGhpcy5zdGFjaz0obmV3IEVycm9yKS5zdGFja312YXIgdz1uKDE0KSxrPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXN9KCk7ci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSkscy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSkscC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSkseS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxnLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksbS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxFLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdC5leHBvcnRzPXtBdXRoVG9rZW5FeHBpcmVkRXJyb3I6cixBdXRoVG9rZW5JbnZhbGlkRXJyb3I6byxBdXRoVG9rZW5Ob3RCZWZvcmVFcnJvcjppLEF1dGhUb2tlbkVycm9yOnMsU2lsZW50TWlkZGxld2FyZUJsb2NrZWRFcnJvcjphLEludmFsaWRBY3Rpb25FcnJvcjpjLEludmFsaWRBcmd1bWVudHNFcnJvcjp1LEludmFsaWRPcHRpb25zRXJyb3I6aCxJbnZhbGlkTWVzc2FnZUVycm9yOmwsU29ja2V0UHJvdG9jb2xFcnJvcjpwLFNlcnZlclByb3RvY29sRXJyb3I6ZixIVFRQU2VydmVyRXJyb3I6ZCxSZXNvdXJjZUxpbWl0RXJyb3I6eSxUaW1lb3V0RXJyb3I6dixCYWRDb25uZWN0aW9uRXJyb3I6ZyxCcm9rZXJFcnJvcjptLFByb2Nlc3NFeGl0RXJyb3I6YixVbmtub3duRXJyb3I6RX0sdC5leHBvcnRzLnNvY2tldFByb3RvY29sRXJyb3JTdGF0dXNlcz17MTAwMTpcIlNvY2tldCB3YXMgZGlzY29ubmVjdGVkXCIsMTAwMjpcIkEgV2ViU29ja2V0IHByb3RvY29sIGVycm9yIHdhcyBlbmNvdW50ZXJlZFwiLDEwMDM6XCJTZXJ2ZXIgdGVybWluYXRlZCBzb2NrZXQgYmVjYXVzZSBpdCByZWNlaXZlZCBpbnZhbGlkIGRhdGFcIiwxMDA1OlwiU29ja2V0IGNsb3NlZCB3aXRob3V0IHN0YXR1cyBjb2RlXCIsMTAwNjpcIlNvY2tldCBodW5nIHVwXCIsMTAwNzpcIk1lc3NhZ2UgZm9ybWF0IHdhcyBpbmNvcnJlY3RcIiwxMDA4OlwiRW5jb3VudGVyZWQgYSBwb2xpY3kgdmlvbGF0aW9uXCIsMTAwOTpcIk1lc3NhZ2Ugd2FzIHRvbyBiaWcgdG8gcHJvY2Vzc1wiLDEwMTA6XCJDbGllbnQgZW5kZWQgdGhlIGNvbm5lY3Rpb24gYmVjYXVzZSB0aGUgc2VydmVyIGRpZCBub3QgY29tcGx5IHdpdGggZXh0ZW5zaW9uIHJlcXVpcmVtZW50c1wiLDEwMTE6XCJTZXJ2ZXIgZW5jb3VudGVyZWQgYW4gdW5leHBlY3RlZCBmYXRhbCBjb25kaXRpb25cIiw0ZTM6XCJTZXJ2ZXIgcGluZyB0aW1lZCBvdXRcIiw0MDAxOlwiQ2xpZW50IHBvbmcgdGltZWQgb3V0XCIsNDAwMjpcIlNlcnZlciBmYWlsZWQgdG8gc2lnbiBhdXRoIHRva2VuXCIsNDAwMzpcIkZhaWxlZCB0byBjb21wbGV0ZSBoYW5kc2hha2VcIiw0MDA0OlwiQ2xpZW50IGZhaWxlZCB0byBzYXZlIGF1dGggdG9rZW5cIiw0MDA1OlwiRGlkIG5vdCByZWNlaXZlICNoYW5kc2hha2UgZnJvbSBjbGllbnQgYmVmb3JlIHRpbWVvdXRcIiw0MDA2OlwiRmFpbGVkIHRvIGJpbmQgc29ja2V0IHRvIG1lc3NhZ2UgYnJva2VyXCIsNDAwNzpcIkNsaWVudCBjb25uZWN0aW9uIGVzdGFibGlzaG1lbnQgdGltZWQgb3V0XCJ9LHQuZXhwb3J0cy5zb2NrZXRQcm90b2NvbElnbm9yZVN0YXR1c2VzPXsxZTM6XCJTb2NrZXQgY2xvc2VkIG5vcm1hbGx5XCIsMTAwMTpcIlNvY2tldCBodW5nIHVwXCJ9O3ZhciBUPXtkb21haW46MSxkb21haW5FbWl0dGVyOjEsZG9tYWluVGhyb3duOjF9O3QuZXhwb3J0cy5kZWh5ZHJhdGVFcnJvcj1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0KXtuPXttZXNzYWdlOnQubWVzc2FnZX0sZSYmKG4uc3RhY2s9dC5zdGFjayk7Zm9yKHZhciByIGluIHQpVFtyXXx8KG5bcl09dFtyXSl9ZWxzZSBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/XCJbZnVuY3Rpb24gXCIrKHQubmFtZXx8XCJhbm9ueW1vdXNcIikrXCJdXCI6dDtyZXR1cm4gdyhuKX0sdC5leHBvcnRzLmh5ZHJhdGVFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1udWxsO2lmKG51bGwhPXQpaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2U9bmV3IEVycm9yKHQubWVzc2FnZSk7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9ZWxzZSBlPXQ7cmV0dXJuIGV9LHQuZXhwb3J0cy5kZWN5Y2xlPXd9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSxyKXt2YXIgbz1uKDEpLGk9bigxMykuU0NDaGFubmVsLHM9KG4oNSkuUmVzcG9uc2UsbigxNSkuQXV0aEVuZ2luZSksYT1uKDE2KSxjPW4oMTcpLlNDVHJhbnNwb3J0LHU9big2KSxoPW4oMjEpLGw9bigyMykscD1uKDI1KSxmPW4oMiksZD1mLkludmFsaWRBcmd1bWVudHNFcnJvcix5PWYuSW52YWxpZE1lc3NhZ2VFcnJvcix2PWYuU29ja2V0UHJvdG9jb2xFcnJvcixnPWYuVGltZW91dEVycm9yLG09Zi5CYWRDb25uZWN0aW9uRXJyb3IsYj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LEU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztvLmNhbGwodGhpcyksdGhpcy5pZD1udWxsLHRoaXMuc3RhdGU9dGhpcy5DTE9TRUQsdGhpcy5hdXRoU3RhdGU9dGhpcy5VTkFVVEhFTlRJQ0FURUQsdGhpcy5zaWduZWRBdXRoVG9rZW49bnVsbCx0aGlzLmF1dGhUb2tlbj1udWxsLHRoaXMucGVuZGluZ1JlY29ubmVjdD0hMSx0aGlzLnBlbmRpbmdSZWNvbm5lY3RUaW1lb3V0PW51bGwsdGhpcy5wcmVwYXJpbmdQZW5kaW5nU3Vic2NyaXB0aW9ucz0hMSx0aGlzLmNvbm5lY3RUaW1lb3V0PXQuY29ubmVjdFRpbWVvdXQsdGhpcy5hY2tUaW1lb3V0PXQuYWNrVGltZW91dCx0aGlzLmNoYW5uZWxQcmVmaXg9dC5jaGFubmVsUHJlZml4fHxudWxsLHRoaXMuZGlzY29ubmVjdE9uVW5sb2FkPW51bGw9PXQuZGlzY29ubmVjdE9uVW5sb2FkfHx0LmRpc2Nvbm5lY3RPblVubG9hZCx0aGlzLmF1dGhUb2tlbk5hbWU9dC5hdXRoVG9rZW5OYW1lLHRoaXMucGluZ1RpbWVvdXQ9dGhpcy5hY2tUaW1lb3V0O3ZhciByPU1hdGgucG93KDIsMzEpLTEsaT1mdW5jdGlvbih0KXtpZihuW3RdPnIpdGhyb3cgbmV3IGQoXCJUaGUgXCIrdCtcIiB2YWx1ZSBwcm92aWRlZCBleGNlZWRlZCB0aGUgbWF4aW11bSBhbW91bnQgYWxsb3dlZFwiKX07aWYoaShcImNvbm5lY3RUaW1lb3V0XCIpLGkoXCJhY2tUaW1lb3V0XCIpLGkoXCJwaW5nVGltZW91dFwiKSx0aGlzLl9sb2NhbEV2ZW50cz17Y29ubmVjdDoxLGNvbm5lY3RBYm9ydDoxLGRpc2Nvbm5lY3Q6MSxtZXNzYWdlOjEsZXJyb3I6MSxyYXc6MSxmYWlsOjEsa2lja091dDoxLHN1YnNjcmliZToxLHVuc3Vic2NyaWJlOjEsc3Vic2NyaWJlU3RhdGVDaGFuZ2U6MSxhdXRoU3RhdGVDaGFuZ2U6MSxhdXRoZW50aWNhdGU6MSxkZWF1dGhlbnRpY2F0ZToxLHJlbW92ZUF1dGhUb2tlbjoxLHN1YnNjcmliZVJlcXVlc3Q6MX0sdGhpcy5jb25uZWN0QXR0ZW1wdHM9MCx0aGlzLl9lbWl0QnVmZmVyPW5ldyBoLHRoaXMuY2hhbm5lbHM9e30sdGhpcy5vcHRpb25zPXQsdGhpcy5fY2lkPTEsdGhpcy5vcHRpb25zLmNhbGxJZEdlbmVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuLl9jaWQrK30sdGhpcy5vcHRpb25zLmF1dG9SZWNvbm5lY3Qpe251bGw9PXRoaXMub3B0aW9ucy5hdXRvUmVjb25uZWN0T3B0aW9ucyYmKHRoaXMub3B0aW9ucy5hdXRvUmVjb25uZWN0T3B0aW9ucz17fSk7dmFyIGM9dGhpcy5vcHRpb25zLmF1dG9SZWNvbm5lY3RPcHRpb25zO251bGw9PWMuaW5pdGlhbERlbGF5JiYoYy5pbml0aWFsRGVsYXk9MWU0KSxudWxsPT1jLnJhbmRvbW5lc3MmJihjLnJhbmRvbW5lc3M9MWU0KSxudWxsPT1jLm11bHRpcGxpZXImJihjLm11bHRpcGxpZXI9MS41KSxudWxsPT1jLm1heERlbGF5JiYoYy5tYXhEZWxheT02ZTQpfW51bGw9PXRoaXMub3B0aW9ucy5zdWJzY3JpcHRpb25SZXRyeU9wdGlvbnMmJih0aGlzLm9wdGlvbnMuc3Vic2NyaXB0aW9uUmV0cnlPcHRpb25zPXt9KSx0aGlzLm9wdGlvbnMuYXV0aEVuZ2luZT90aGlzLmF1dGg9dGhpcy5vcHRpb25zLmF1dGhFbmdpbmU6dGhpcy5hdXRoPW5ldyBzLHRoaXMub3B0aW9ucy5jb2RlY0VuZ2luZT90aGlzLmNvZGVjPXRoaXMub3B0aW9ucy5jb2RlY0VuZ2luZTp0aGlzLmNvZGVjPWEsdGhpcy5vcHRpb25zLnBhdGg9dGhpcy5vcHRpb25zLnBhdGgucmVwbGFjZSgvXFwvJC8sXCJcIikrXCIvXCIsdGhpcy5vcHRpb25zLnF1ZXJ5PXQucXVlcnl8fHt9LFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucXVlcnkmJih0aGlzLm9wdGlvbnMucXVlcnk9dS5wYXJzZSh0aGlzLm9wdGlvbnMucXVlcnkpKSx0aGlzLm9wdGlvbnMuYXV0b0Nvbm5lY3QmJnRoaXMuY29ubmVjdCgpLHRoaXMuX2NoYW5uZWxFbWl0dGVyPW5ldyBvLGImJnRoaXMuZGlzY29ubmVjdE9uVW5sb2FkJiZlLmFkZEV2ZW50TGlzdGVuZXImJih0aGlzLl91bmxvYWRIYW5kbGVyPWZ1bmN0aW9uKCl7bi5kaXNjb25uZWN0KCl9LGUuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMuX3VubG9hZEhhbmRsZXIsITEpKX07RS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSksRS5DT05ORUNUSU5HPUUucHJvdG90eXBlLkNPTk5FQ1RJTkc9Yy5wcm90b3R5cGUuQ09OTkVDVElORyxFLk9QRU49RS5wcm90b3R5cGUuT1BFTj1jLnByb3RvdHlwZS5PUEVOLEUuQ0xPU0VEPUUucHJvdG90eXBlLkNMT1NFRD1jLnByb3RvdHlwZS5DTE9TRUQsRS5BVVRIRU5USUNBVEVEPUUucHJvdG90eXBlLkFVVEhFTlRJQ0FURUQ9XCJhdXRoZW50aWNhdGVkXCIsRS5VTkFVVEhFTlRJQ0FURUQ9RS5wcm90b3R5cGUuVU5BVVRIRU5USUNBVEVEPVwidW5hdXRoZW50aWNhdGVkXCIsRS5QRU5ESU5HPUUucHJvdG90eXBlLlBFTkRJTkc9XCJwZW5kaW5nXCIsRS5pZ25vcmVTdGF0dXNlcz1mLnNvY2tldFByb3RvY29sSWdub3JlU3RhdHVzZXMsRS5lcnJvclN0YXR1c2VzPWYuc29ja2V0UHJvdG9jb2xFcnJvclN0YXR1c2VzLEUucHJvdG90eXBlLl9wcml2YXRlRXZlbnRIYW5kbGVyTWFwPXtcIiNwdWJsaXNoXCI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdW5kZWNvcmF0ZUNoYW5uZWxOYW1lKHQuY2hhbm5lbCk7dGhpcy5pc1N1YnNjcmliZWQoZSwhMCkmJnRoaXMuX2NoYW5uZWxFbWl0dGVyLmVtaXQoZSx0LmRhdGEpfSxcIiNraWNrT3V0XCI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdW5kZWNvcmF0ZUNoYW5uZWxOYW1lKHQuY2hhbm5lbCksbj10aGlzLmNoYW5uZWxzW2VdO24mJihvLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcImtpY2tPdXRcIix0Lm1lc3NhZ2UsZSksbi5lbWl0KFwia2lja091dFwiLHQubWVzc2FnZSxlKSx0aGlzLl90cmlnZ2VyQ2hhbm5lbFVuc3Vic2NyaWJlKG4pKX0sXCIjc2V0QXV0aFRva2VuXCI6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHQpe3ZhciByPWZ1bmN0aW9uKHIpe3I/KGUuZXJyb3Iociksbi5fb25TQ0Vycm9yKHIpKToobi5fY2hhbmdlVG9BdXRoZW50aWNhdGVkU3RhdGUodC50b2tlbiksZS5lbmQoKSl9O3RoaXMuYXV0aC5zYXZlVG9rZW4odGhpcy5hdXRoVG9rZW5OYW1lLHQudG9rZW4se30scil9ZWxzZSBlLmVycm9yKG5ldyB5KFwiTm8gdG9rZW4gZGF0YSBwcm92aWRlZCBieSAjc2V0QXV0aFRva2VuIGV2ZW50XCIpKX0sXCIjcmVtb3ZlQXV0aFRva2VuXCI6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuYXV0aC5yZW1vdmVUb2tlbih0aGlzLmF1dGhUb2tlbk5hbWUsZnVuY3Rpb24odCxyKXt0PyhlLmVycm9yKHQpLG4uX29uU0NFcnJvcih0KSk6KG8ucHJvdG90eXBlLmVtaXQuY2FsbChuLFwicmVtb3ZlQXV0aFRva2VuXCIsciksbi5fY2hhbmdlVG9VbmF1dGhlbnRpY2F0ZWRTdGF0ZUFuZENsZWFyVG9rZW5zKCksZS5lbmQoKSl9KX0sXCIjZGlzY29ubmVjdFwiOmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNwb3J0LmNsb3NlKHQuY29kZSx0LmRhdGEpfX0sRS5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZX0sRS5wcm90b3R5cGUuZ2V0Qnl0ZXNSZWNlaXZlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRCeXRlc1JlY2VpdmVkKCl9LEUucHJvdG90eXBlLmRlYXV0aGVudGljYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5hdXRoLnJlbW92ZVRva2VuKHRoaXMuYXV0aFRva2VuTmFtZSxmdW5jdGlvbihuLHIpe24/ZS5fb25TQ0Vycm9yKG4pOihvLnByb3RvdHlwZS5lbWl0LmNhbGwoZSxcInJlbW92ZUF1dGhUb2tlblwiLHIpLGUuc3RhdGUhPWUuQ0xPU0VEJiZlLmVtaXQoXCIjcmVtb3ZlQXV0aFRva2VuXCIpLGUuX2NoYW5nZVRvVW5hdXRoZW50aWNhdGVkU3RhdGVBbmRDbGVhclRva2VucygpKSx0JiZ0KG4pfSl9LEUucHJvdG90eXBlLmNvbm5lY3Q9RS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zdGF0ZT09dGhpcy5DTE9TRUQmJih0aGlzLnBlbmRpbmdSZWNvbm5lY3Q9ITEsdGhpcy5wZW5kaW5nUmVjb25uZWN0VGltZW91dD1udWxsLGNsZWFyVGltZW91dCh0aGlzLl9yZWNvbm5lY3RUaW1lb3V0UmVmKSx0aGlzLnN0YXRlPXRoaXMuQ09OTkVDVElORyxvLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcImNvbm5lY3RpbmdcIiksdGhpcy50cmFuc3BvcnQmJnRoaXMudHJhbnNwb3J0Lm9mZigpLHRoaXMudHJhbnNwb3J0PW5ldyBjKHRoaXMuYXV0aCx0aGlzLmNvZGVjLHRoaXMub3B0aW9ucyksdGhpcy50cmFuc3BvcnQub24oXCJvcGVuXCIsZnVuY3Rpb24oZSl7dC5zdGF0ZT10Lk9QRU4sdC5fb25TQ09wZW4oZSl9KSx0aGlzLnRyYW5zcG9ydC5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7dC5fb25TQ0Vycm9yKGUpfSksdGhpcy50cmFuc3BvcnQub24oXCJjbG9zZVwiLGZ1bmN0aW9uKGUsbil7dC5zdGF0ZT10LkNMT1NFRCx0Ll9vblNDQ2xvc2UoZSxuKX0pLHRoaXMudHJhbnNwb3J0Lm9uKFwib3BlbkFib3J0XCIsZnVuY3Rpb24oZSxuKXt0LnN0YXRlPXQuQ0xPU0VELHQuX29uU0NDbG9zZShlLG4sITApfSksdGhpcy50cmFuc3BvcnQub24oXCJldmVudFwiLGZ1bmN0aW9uKGUsbixyKXt0Ll9vblNDRXZlbnQoZSxuLHIpfSkpfSxFLnByb3RvdHlwZS5yZWNvbm5lY3Q9ZnVuY3Rpb24oKXt0aGlzLmRpc2Nvbm5lY3QoKSx0aGlzLmNvbm5lY3QoKX0sRS5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbih0LGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZih0PXR8fDFlMykpdGhyb3cgbmV3IGQoXCJJZiBzcGVjaWZpZWQsIHRoZSBjb2RlIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7dGhpcy5zdGF0ZT09dGhpcy5PUEVOfHx0aGlzLnN0YXRlPT10aGlzLkNPTk5FQ1RJTkc/dGhpcy50cmFuc3BvcnQuY2xvc2UodCxlKToodGhpcy5wZW5kaW5nUmVjb25uZWN0PSExLHRoaXMucGVuZGluZ1JlY29ubmVjdFRpbWVvdXQ9bnVsbCxjbGVhclRpbWVvdXQodGhpcy5fcmVjb25uZWN0VGltZW91dFJlZikpfSxFLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fdW5sb2FkSGFuZGxlciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsdGhpcy5fdW5sb2FkSGFuZGxlciwhMSksdGhpcy5kaXNjb25uZWN0KCl9LEUucHJvdG90eXBlLl9jaGFuZ2VUb1VuYXV0aGVudGljYXRlZFN0YXRlQW5kQ2xlYXJUb2tlbnM9ZnVuY3Rpb24oKXtpZih0aGlzLmF1dGhTdGF0ZSE9dGhpcy5VTkFVVEhFTlRJQ0FURUQpe3ZhciB0PXRoaXMuYXV0aFN0YXRlO3RoaXMuYXV0aFN0YXRlPXRoaXMuVU5BVVRIRU5USUNBVEVELHRoaXMuc2lnbmVkQXV0aFRva2VuPW51bGwsdGhpcy5hdXRoVG9rZW49bnVsbDt2YXIgZT17b2xkU3RhdGU6dCxuZXdTdGF0ZTp0aGlzLmF1dGhTdGF0ZX07by5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJhdXRoU3RhdGVDaGFuZ2VcIixlKSx0PT10aGlzLkFVVEhFTlRJQ0FURUQmJm8ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwiZGVhdXRoZW50aWNhdGVcIiksby5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJhdXRoVG9rZW5DaGFuZ2VcIix0aGlzLnNpZ25lZEF1dGhUb2tlbil9fSxFLnByb3RvdHlwZS5fY2hhbmdlVG9BdXRoZW50aWNhdGVkU3RhdGU9ZnVuY3Rpb24odCl7aWYodGhpcy5zaWduZWRBdXRoVG9rZW49dCx0aGlzLmF1dGhUb2tlbj10aGlzLl9leHRyYWN0QXV0aFRva2VuRGF0YSh0KSx0aGlzLmF1dGhTdGF0ZSE9dGhpcy5BVVRIRU5USUNBVEVEKXt2YXIgZT10aGlzLmF1dGhTdGF0ZTt0aGlzLmF1dGhTdGF0ZT10aGlzLkFVVEhFTlRJQ0FURUQ7dmFyIG49e29sZFN0YXRlOmUsbmV3U3RhdGU6dGhpcy5hdXRoU3RhdGUsc2lnbmVkQXV0aFRva2VuOnQsYXV0aFRva2VuOnRoaXMuYXV0aFRva2VufTt0aGlzLnByZXBhcmluZ1BlbmRpbmdTdWJzY3JpcHRpb25zfHx0aGlzLnByb2Nlc3NQZW5kaW5nU3Vic2NyaXB0aW9ucygpLG8ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwiYXV0aFN0YXRlQ2hhbmdlXCIsbiksby5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJhdXRoZW50aWNhdGVcIix0KX1vLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcImF1dGhUb2tlbkNoYW5nZVwiLHQpfSxFLnByb3RvdHlwZS5kZWNvZGVCYXNlNjQ9ZnVuY3Rpb24odCl7dmFyIG47aWYodm9pZCAwPT09ciluPWUuYXRvYj9lLmF0b2IodCk6bC5kZWNvZGUodCk7ZWxzZXtuPW5ldyByKHQsXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGY4XCIpfXJldHVybiBufSxFLnByb3RvdHlwZS5lbmNvZGVCYXNlNjQ9ZnVuY3Rpb24odCl7dmFyIG47aWYodm9pZCAwPT09ciluPWUuYnRvYT9lLmJ0b2EodCk6bC5lbmNvZGUodCk7ZWxzZXtuPW5ldyByKHQsXCJ1dGY4XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpfXJldHVybiBufSxFLnByb3RvdHlwZS5fZXh0cmFjdEF1dGhUb2tlbkRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9KHR8fFwiXCIpLnNwbGl0KFwiLlwiKSxuPWVbMV07aWYobnVsbCE9bil7dmFyIHI9bjt0cnl7cmV0dXJuIHI9dGhpcy5kZWNvZGVCYXNlNjQociksSlNPTi5wYXJzZShyKX1jYXRjaCh0KXtyZXR1cm4gcn19cmV0dXJuIG51bGx9LEUucHJvdG90eXBlLmdldEF1dGhUb2tlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF1dGhUb2tlbn0sRS5wcm90b3R5cGUuZ2V0U2lnbmVkQXV0aFRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2lnbmVkQXV0aFRva2VufSxFLnByb3RvdHlwZS5hdXRoZW50aWNhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuZW1pdChcIiNhdXRoZW50aWNhdGVcIix0LGZ1bmN0aW9uKHIsbyl7byYmbnVsbCE9by5pc0F1dGhlbnRpY2F0ZWQ/by5hdXRoRXJyb3ImJihvLmF1dGhFcnJvcj1mLmh5ZHJhdGVFcnJvcihvLmF1dGhFcnJvcikpOm89e2lzQXV0aGVudGljYXRlZDpuLmF1dGhTdGF0ZSxhdXRoRXJyb3I6bnVsbH0scj8oXCJCYWRDb25uZWN0aW9uRXJyb3JcIiE9ci5uYW1lJiZcIlRpbWVvdXRFcnJvclwiIT1yLm5hbWUmJm4uX2NoYW5nZVRvVW5hdXRoZW50aWNhdGVkU3RhdGVBbmRDbGVhclRva2VucygpLGUmJmUocixvKSk6bi5hdXRoLnNhdmVUb2tlbihuLmF1dGhUb2tlbk5hbWUsdCx7fSxmdW5jdGlvbihyKXtyJiZuLl9vblNDRXJyb3Iociksby5pc0F1dGhlbnRpY2F0ZWQ/bi5fY2hhbmdlVG9BdXRoZW50aWNhdGVkU3RhdGUodCk6bi5fY2hhbmdlVG9VbmF1dGhlbnRpY2F0ZWRTdGF0ZUFuZENsZWFyVG9rZW5zKCksZSYmZShyLG8pfSl9KX0sRS5wcm90b3R5cGUuX3RyeVJlY29ubmVjdD1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMscj10aGlzLmNvbm5lY3RBdHRlbXB0cysrLG89dGhpcy5vcHRpb25zLmF1dG9SZWNvbm5lY3RPcHRpb25zO2lmKG51bGw9PXR8fHI+MCl7dmFyIGk9TWF0aC5yb3VuZChvLmluaXRpYWxEZWxheSsoby5yYW5kb21uZXNzfHwwKSpNYXRoLnJhbmRvbSgpKTtlPU1hdGgucm91bmQoaSpNYXRoLnBvdyhvLm11bHRpcGxpZXIscikpfWVsc2UgZT10O2U+by5tYXhEZWxheSYmKGU9by5tYXhEZWxheSksY2xlYXJUaW1lb3V0KHRoaXMuX3JlY29ubmVjdFRpbWVvdXRSZWYpLHRoaXMucGVuZGluZ1JlY29ubmVjdD0hMCx0aGlzLnBlbmRpbmdSZWNvbm5lY3RUaW1lb3V0PWUsdGhpcy5fcmVjb25uZWN0VGltZW91dFJlZj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5jb25uZWN0KCl9LGUpfSxFLnByb3RvdHlwZS5fb25TQ09wZW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnByZXBhcmluZ1BlbmRpbmdTdWJzY3JpcHRpb25zPSEwLHQ/KHRoaXMuaWQ9dC5pZCx0aGlzLnBpbmdUaW1lb3V0PXQucGluZ1RpbWVvdXQsdGhpcy50cmFuc3BvcnQucGluZ1RpbWVvdXQ9dGhpcy5waW5nVGltZW91dCx0LmlzQXV0aGVudGljYXRlZD90aGlzLl9jaGFuZ2VUb0F1dGhlbnRpY2F0ZWRTdGF0ZSh0LmF1dGhUb2tlbik6dGhpcy5fY2hhbmdlVG9VbmF1dGhlbnRpY2F0ZWRTdGF0ZUFuZENsZWFyVG9rZW5zKCkpOnRoaXMuX2NoYW5nZVRvVW5hdXRoZW50aWNhdGVkU3RhdGVBbmRDbGVhclRva2VucygpLHRoaXMuY29ubmVjdEF0dGVtcHRzPTAsdGhpcy5vcHRpb25zLmF1dG9TdWJzY3JpYmVPbkNvbm5lY3QmJnRoaXMucHJvY2Vzc1BlbmRpbmdTdWJzY3JpcHRpb25zKCksby5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJjb25uZWN0XCIsdCxmdW5jdGlvbigpe2UucHJvY2Vzc1BlbmRpbmdTdWJzY3JpcHRpb25zKCl9KSx0aGlzLl9mbHVzaEVtaXRCdWZmZXIoKX0sRS5wcm90b3R5cGUuX29uU0NFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihlLmxpc3RlbmVycyhcImVycm9yXCIpLmxlbmd0aDwxKXRocm93IHQ7by5wcm90b3R5cGUuZW1pdC5jYWxsKGUsXCJlcnJvclwiLHQpfSwwKX0sRS5wcm90b3R5cGUuX3N1c3BlbmRTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IodmFyIG4gaW4gdGhpcy5jaGFubmVscyl0aGlzLmNoYW5uZWxzLmhhc093blByb3BlcnR5KG4pJiYodD10aGlzLmNoYW5uZWxzW25dLGU9dC5zdGF0ZT09dC5TVUJTQ1JJQkVEfHx0LnN0YXRlPT10LlBFTkRJTkc/dC5QRU5ESU5HOnQuVU5TVUJTQ1JJQkVELHRoaXMuX3RyaWdnZXJDaGFubmVsVW5zdWJzY3JpYmUodCxlKSl9LEUucHJvdG90eXBlLl9hYm9ydEFsbFBlbmRpbmdFdmVudHNEdWVUb0JhZENvbm5lY3Rpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcy5fZW1pdEJ1ZmZlci5oZWFkO247KXtlPW4ubmV4dDt2YXIgcj1uLmRhdGE7Y2xlYXJUaW1lb3V0KHIudGltZW91dCksZGVsZXRlIHIudGltZW91dCxuLmRldGFjaCgpLG49ZTt2YXIgbz1yLmNhbGxiYWNrO2lmKG8pe2RlbGV0ZSByLmNhbGxiYWNrO3ZhciBpPVwiRXZlbnQgJ1wiK3IuZXZlbnQrXCInIHdhcyBhYm9ydGVkIGR1ZSB0byBhIGJhZCBjb25uZWN0aW9uXCIscz1uZXcgbShpLHQpO28uY2FsbChyLHMscil9fX0sRS5wcm90b3R5cGUuX29uU0NDbG9zZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztpZih0aGlzLmlkPW51bGwsdGhpcy50cmFuc3BvcnQmJnRoaXMudHJhbnNwb3J0Lm9mZigpLHRoaXMucGVuZGluZ1JlY29ubmVjdD0hMSx0aGlzLnBlbmRpbmdSZWNvbm5lY3RUaW1lb3V0PW51bGwsY2xlYXJUaW1lb3V0KHRoaXMuX3JlY29ubmVjdFRpbWVvdXRSZWYpLHRoaXMuX3N1c3BlbmRTdWJzY3JpcHRpb25zKCksdGhpcy5fYWJvcnRBbGxQZW5kaW5nRXZlbnRzRHVlVG9CYWRDb25uZWN0aW9uKG4/XCJjb25uZWN0QWJvcnRcIjpcImRpc2Nvbm5lY3RcIiksdGhpcy5vcHRpb25zLmF1dG9SZWNvbm5lY3QmJig0ZTM9PXR8fDQwMDE9PXR8fDEwMDU9PXQ/dGhpcy5fdHJ5UmVjb25uZWN0KDApOjFlMyE9dCYmdDw0NTAwJiZ0aGlzLl90cnlSZWNvbm5lY3QoKSksbj9vLnByb3RvdHlwZS5lbWl0LmNhbGwocixcImNvbm5lY3RBYm9ydFwiLHQsZSk6by5wcm90b3R5cGUuZW1pdC5jYWxsKHIsXCJkaXNjb25uZWN0XCIsdCxlKSwhRS5pZ25vcmVTdGF0dXNlc1t0XSl7dmFyIGk7aT1lP1wiU29ja2V0IGNvbm5lY3Rpb24gZmFpbGVkOiBcIitlOlwiU29ja2V0IGNvbm5lY3Rpb24gZmFpbGVkIGZvciB1bmtub3duIHJlYXNvbnNcIjt2YXIgcz1uZXcgdihFLmVycm9yU3RhdHVzZXNbdF18fGksdCk7dGhpcy5fb25TQ0Vycm9yKHMpfX0sRS5wcm90b3R5cGUuX29uU0NFdmVudD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fcHJpdmF0ZUV2ZW50SGFuZGxlck1hcFt0XTtyP3IuY2FsbCh0aGlzLGUsbik6by5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsdCxlLGZ1bmN0aW9uKCl7biYmbi5jYWxsYmFjay5hcHBseShuLGFyZ3VtZW50cyl9KX0sRS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zcG9ydC5kZWNvZGUodCl9LEUucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc3BvcnQuZW5jb2RlKHQpfSxFLnByb3RvdHlwZS5fZmx1c2hFbWl0QnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9dGhpcy5fZW1pdEJ1ZmZlci5oZWFkO2U7KXt0PWUubmV4dDt2YXIgbj1lLmRhdGE7ZS5kZXRhY2goKSx0aGlzLnRyYW5zcG9ydC5lbWl0T2JqZWN0KG4pLGU9dH19LEUucHJvdG90eXBlLl9oYW5kbGVFdmVudEFja1RpbWVvdXQ9ZnVuY3Rpb24odCxlKXtlJiZlLmRldGFjaCgpLGRlbGV0ZSB0LnRpbWVvdXQ7dmFyIG49dC5jYWxsYmFjaztpZihuKXtkZWxldGUgdC5jYWxsYmFjazt2YXIgcj1uZXcgZyhcIkV2ZW50IHJlc3BvbnNlIGZvciAnXCIrdC5ldmVudCtcIicgdGltZWQgb3V0XCIpO24uY2FsbCh0LHIsdCl9fSxFLnByb3RvdHlwZS5fZW1pdD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpczt0aGlzLnN0YXRlPT10aGlzLkNMT1NFRCYmdGhpcy5jb25uZWN0KCk7dmFyIG89e2V2ZW50OnQsY2FsbGJhY2s6bn0saT1uZXcgaC5JdGVtO3RoaXMub3B0aW9ucy5jbG9uZURhdGE/by5kYXRhPXAoZSk6by5kYXRhPWUsaS5kYXRhPW8sby50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9oYW5kbGVFdmVudEFja1RpbWVvdXQobyxpKX0sdGhpcy5hY2tUaW1lb3V0KSx0aGlzLl9lbWl0QnVmZmVyLmFwcGVuZChpKSx0aGlzLnN0YXRlPT10aGlzLk9QRU4mJnRoaXMuX2ZsdXNoRW1pdEJ1ZmZlcigpfSxFLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe3RoaXMudHJhbnNwb3J0LnNlbmQodCl9LEUucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxlLG4pe251bGw9PXRoaXMuX2xvY2FsRXZlbnRzW3RdP3RoaXMuX2VtaXQodCxlLG4pOm8ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLHQsZSl9LEUucHJvdG90eXBlLnB1Ymxpc2g9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXtjaGFubmVsOnRoaXMuX2RlY29yYXRlQ2hhbm5lbE5hbWUodCksZGF0YTplfTt0aGlzLmVtaXQoXCIjcHVibGlzaFwiLHIsbil9LEUucHJvdG90eXBlLl90cmlnZ2VyQ2hhbm5lbFN1YnNjcmliZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZTtpZih0LnN0YXRlIT10LlNVQlNDUklCRUQpe3ZhciByPXQuc3RhdGU7dC5zdGF0ZT10LlNVQlNDUklCRUQ7dmFyIGk9e2NoYW5uZWw6bixvbGRTdGF0ZTpyLG5ld1N0YXRlOnQuc3RhdGUsc3Vic2NyaXB0aW9uT3B0aW9uczplfTt0LmVtaXQoXCJzdWJzY3JpYmVTdGF0ZUNoYW5nZVwiLGkpLHQuZW1pdChcInN1YnNjcmliZVwiLG4sZSksby5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJzdWJzY3JpYmVTdGF0ZUNoYW5nZVwiLGkpLG8ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwic3Vic2NyaWJlXCIsbixlKX19LEUucHJvdG90eXBlLl90cmlnZ2VyQ2hhbm5lbFN1YnNjcmliZUZhaWw9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWUubmFtZSxpPSFlLndhaXRGb3JBdXRofHx0aGlzLmF1dGhTdGF0ZT09dGhpcy5BVVRIRU5USUNBVEVEO2Uuc3RhdGUhPWUuVU5TVUJTQ1JJQkVEJiZpJiYoZS5zdGF0ZT1lLlVOU1VCU0NSSUJFRCxlLmVtaXQoXCJzdWJzY3JpYmVGYWlsXCIsdCxyLG4pLG8ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwic3Vic2NyaWJlRmFpbFwiLHQscixuKSl9LEUucHJvdG90eXBlLl9jYW5jZWxQZW5kaW5nU3Vic2NyaWJlQ2FsbGJhY2s9ZnVuY3Rpb24odCl7bnVsbCE9dC5fcGVuZGluZ1N1YnNjcmlwdGlvbkNpZCYmKHRoaXMudHJhbnNwb3J0LmNhbmNlbFBlbmRpbmdSZXNwb25zZSh0Ll9wZW5kaW5nU3Vic2NyaXB0aW9uQ2lkKSxkZWxldGUgdC5fcGVuZGluZ1N1YnNjcmlwdGlvbkNpZCl9LEUucHJvdG90eXBlLl9kZWNvcmF0ZUNoYW5uZWxOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYW5uZWxQcmVmaXgmJih0PXRoaXMuY2hhbm5lbFByZWZpeCt0KSx0fSxFLnByb3RvdHlwZS5fdW5kZWNvcmF0ZUNoYW5uZWxOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYW5uZWxQcmVmaXgmJjA9PXQuaW5kZXhPZih0aGlzLmNoYW5uZWxQcmVmaXgpP3QucmVwbGFjZSh0aGlzLmNoYW5uZWxQcmVmaXgsXCJcIik6dH0sRS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49IXQud2FpdEZvckF1dGh8fHRoaXMuYXV0aFN0YXRlPT10aGlzLkFVVEhFTlRJQ0FURUQ7aWYodGhpcy5zdGF0ZT09dGhpcy5PUEVOJiYhdGhpcy5wcmVwYXJpbmdQZW5kaW5nU3Vic2NyaXB0aW9ucyYmbnVsbD09dC5fcGVuZGluZ1N1YnNjcmlwdGlvbkNpZCYmbil7dmFyIHI9e25vVGltZW91dDohMH0saT17Y2hhbm5lbDp0aGlzLl9kZWNvcmF0ZUNoYW5uZWxOYW1lKHQubmFtZSl9O3Qud2FpdEZvckF1dGgmJihyLndhaXRGb3JBdXRoPSEwLGkud2FpdEZvckF1dGg9ci53YWl0Rm9yQXV0aCksdC5kYXRhJiYoaS5kYXRhPXQuZGF0YSksdC5fcGVuZGluZ1N1YnNjcmlwdGlvbkNpZD10aGlzLnRyYW5zcG9ydC5lbWl0KFwiI3N1YnNjcmliZVwiLGkscixmdW5jdGlvbihuKXtkZWxldGUgdC5fcGVuZGluZ1N1YnNjcmlwdGlvbkNpZCxuP2UuX3RyaWdnZXJDaGFubmVsU3Vic2NyaWJlRmFpbChuLHQsaSk6ZS5fdHJpZ2dlckNoYW5uZWxTdWJzY3JpYmUodCxpKX0pLG8ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwic3Vic2NyaWJlUmVxdWVzdFwiLHQubmFtZSxpKX19LEUucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2hhbm5lbHNbdF07cmV0dXJuIG4/ZSYmbi5zZXRPcHRpb25zKGUpOihuPW5ldyBpKHQsdGhpcyxlKSx0aGlzLmNoYW5uZWxzW3RdPW4pLG4uc3RhdGU9PW4uVU5TVUJTQ1JJQkVEJiYobi5zdGF0ZT1uLlBFTkRJTkcsdGhpcy5fdHJ5U3Vic2NyaWJlKG4pKSxufSxFLnByb3RvdHlwZS5fdHJpZ2dlckNoYW5uZWxVbnN1YnNjcmliZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZSxyPXQuc3RhdGU7aWYodC5zdGF0ZT1lfHx0LlVOU1VCU0NSSUJFRCx0aGlzLl9jYW5jZWxQZW5kaW5nU3Vic2NyaWJlQ2FsbGJhY2sodCkscj09dC5TVUJTQ1JJQkVEKXt2YXIgaT17Y2hhbm5lbDpuLG9sZFN0YXRlOnIsbmV3U3RhdGU6dC5zdGF0ZX07dC5lbWl0KFwic3Vic2NyaWJlU3RhdGVDaGFuZ2VcIixpKSx0LmVtaXQoXCJ1bnN1YnNjcmliZVwiLG4pLG8ucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwic3Vic2NyaWJlU3RhdGVDaGFuZ2VcIixpKSxvLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcInVuc3Vic2NyaWJlXCIsbil9fSxFLnByb3RvdHlwZS5fdHJ5VW5zdWJzY3JpYmU9ZnVuY3Rpb24odCl7aWYodGhpcy5zdGF0ZT09dGhpcy5PUEVOKXt2YXIgZT17bm9UaW1lb3V0OiEwfTt0aGlzLl9jYW5jZWxQZW5kaW5nU3Vic2NyaWJlQ2FsbGJhY2sodCk7dmFyIG49dGhpcy5fZGVjb3JhdGVDaGFubmVsTmFtZSh0Lm5hbWUpO3RoaXMudHJhbnNwb3J0LmVtaXQoXCIjdW5zdWJzY3JpYmVcIixuLGUpfX0sRS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGFubmVsc1t0XTtlJiZlLnN0YXRlIT1lLlVOU1VCU0NSSUJFRCYmKHRoaXMuX3RyaWdnZXJDaGFubmVsVW5zdWJzY3JpYmUoZSksdGhpcy5fdHJ5VW5zdWJzY3JpYmUoZSkpfSxFLnByb3RvdHlwZS5jaGFubmVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jaGFubmVsc1t0XTtyZXR1cm4gbnx8KG49bmV3IGkodCx0aGlzLGUpLHRoaXMuY2hhbm5lbHNbdF09biksbn0sRS5wcm90b3R5cGUuZGVzdHJveUNoYW5uZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGFubmVsc1t0XTtlLnVud2F0Y2goKSxlLnVuc3Vic2NyaWJlKCksZGVsZXRlIHRoaXMuY2hhbm5lbHNbdF19LEUucHJvdG90eXBlLnN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGUsbj1bXTtmb3IodmFyIHIgaW4gdGhpcy5jaGFubmVscyl0aGlzLmNoYW5uZWxzLmhhc093blByb3BlcnR5KHIpJiYoZT10aGlzLmNoYW5uZWxzW3JdLCh0P2UmJihlLnN0YXRlPT1lLlNVQlNDUklCRUR8fGUuc3RhdGU9PWUuUEVORElORyk6ZSYmZS5zdGF0ZT09ZS5TVUJTQ1JJQkVEKSYmbi5wdXNoKHIpKTtyZXR1cm4gbn0sRS5wcm90b3R5cGUuaXNTdWJzY3JpYmVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jaGFubmVsc1t0XTtyZXR1cm4gZT8hIW4mJihuLnN0YXRlPT1uLlNVQlNDUklCRUR8fG4uc3RhdGU9PW4uUEVORElORyk6ISFuJiZuLnN0YXRlPT1uLlNVQlNDUklCRUR9LEUucHJvdG90eXBlLnByb2Nlc3NQZW5kaW5nU3Vic2NyaXB0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5wcmVwYXJpbmdQZW5kaW5nU3Vic2NyaXB0aW9ucz0hMTt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdGhpcy5jaGFubmVscylpZih0aGlzLmNoYW5uZWxzLmhhc093blByb3BlcnR5KG4pKXt2YXIgcj10aGlzLmNoYW5uZWxzW25dO3Iuc3RhdGU9PXIuUEVORElORyYmZS5wdXNoKHIpfWUuc29ydChmdW5jdGlvbih0LGUpe3ZhciBuPXQucHJpb3JpdHl8fDAscj1lLnByaW9yaXR5fHwwO3JldHVybiBuPnI/LTE6bjxyPzE6MH0pLGUuZm9yRWFjaChmdW5jdGlvbihlKXt0Ll90cnlTdWJzY3JpYmUoZSl9KX0sRS5wcm90b3R5cGUud2F0Y2g9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBkKFwiTm8gaGFuZGxlciBmdW5jdGlvbiB3YXMgcHJvdmlkZWRcIik7dGhpcy5fY2hhbm5lbEVtaXR0ZXIub24odCxlKX0sRS5wcm90b3R5cGUudW53YXRjaD1mdW5jdGlvbih0LGUpe2U/dGhpcy5fY2hhbm5lbEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIodCxlKTp0aGlzLl9jaGFubmVsRW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnModCl9LEUucHJvdG90eXBlLndhdGNoZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGFubmVsRW1pdHRlci5saXN0ZW5lcnModCl9LHQuZXhwb3J0cz1FfSkuY2FsbChlLG4oMCksbig0KS5CdWZmZXIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXtyZXR1cm4gaS5UWVBFRF9BUlJBWV9TVVBQT1JUPzIxNDc0ODM2NDc6MTA3Mzc0MTgyM31mdW5jdGlvbiBvKHQsZSl7aWYocigpPGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aFwiKTtyZXR1cm4gaS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0PW5ldyBVaW50OEFycmF5KGUpLHQuX19wcm90b19fPWkucHJvdG90eXBlKToobnVsbD09PXQmJih0PW5ldyBpKGUpKSx0Lmxlbmd0aD1lKSx0fWZ1bmN0aW9uIGkodCxlLG4pe2lmKCEoaS5UWVBFRF9BUlJBWV9TVVBQT1JUfHx0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKHQsZSxuKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmdcIik7cmV0dXJuIHUodGhpcyx0KX1yZXR1cm4gcyh0aGlzLHQsZSxuKX1mdW5jdGlvbiBzKHQsZSxuLHIpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3AodCxlLG4scik6XCJzdHJpbmdcIj09dHlwZW9mIGU/aCh0LGUsbik6Zih0LGUpfWZ1bmN0aW9uIGEodCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKX1mdW5jdGlvbiBjKHQsZSxuLHIpe3JldHVybiBhKGUpLGU8PTA/byh0LGUpOnZvaWQgMCE9PW4/XCJzdHJpbmdcIj09dHlwZW9mIHI/byh0LGUpLmZpbGwobixyKTpvKHQsZSkuZmlsbChuKTpvKHQsZSl9ZnVuY3Rpb24gdSh0LGUpe2lmKGEoZSksdD1vKHQsZTwwPzA6MHxkKGUpKSwhaS5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgbj0wO248ZTsrK24pdFtuXT0wO3JldHVybiB0fWZ1bmN0aW9uIGgodCxlLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuJiZcIlwiIT09bnx8KG49XCJ1dGY4XCIpLCFpLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgcj0wfHYoZSxuKTt0PW8odCxyKTt2YXIgcz10LndyaXRlKGUsbik7cmV0dXJuIHMhPT1yJiYodD10LnNsaWNlKDAscykpLHR9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPWUubGVuZ3RoPDA/MDowfGQoZS5sZW5ndGgpO3Q9byh0LG4pO2Zvcih2YXIgcj0wO3I8bjtyKz0xKXRbcl09MjU1JmVbcl07cmV0dXJuIHR9ZnVuY3Rpb24gcCh0LGUsbixyKXtpZihlLmJ5dGVMZW5ndGgsbjwwfHxlLmJ5dGVMZW5ndGg8bil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHNcIik7aWYoZS5ieXRlTGVuZ3RoPG4rKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kc1wiKTtyZXR1cm4gZT12b2lkIDA9PT1uJiZ2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KGUpOnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkoZSxuKTpuZXcgVWludDhBcnJheShlLG4sciksaS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0PWUsdC5fX3Byb3RvX189aS5wcm90b3R5cGUpOnQ9bCh0LGUpLHR9ZnVuY3Rpb24gZih0LGUpe2lmKGkuaXNCdWZmZXIoZSkpe3ZhciBuPTB8ZChlLmxlbmd0aCk7cmV0dXJuIHQ9byh0LG4pLDA9PT10Lmxlbmd0aD90OihlLmNvcHkodCwwLDAsbiksdCl9aWYoZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxcImxlbmd0aFwiaW4gZSlyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZS5sZW5ndGh8fEsoZS5sZW5ndGgpP28odCwwKTpsKHQsZSk7aWYoXCJCdWZmZXJcIj09PWUudHlwZSYmWihlLmRhdGEpKXJldHVybiBsKHQsZS5kYXRhKX10aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LlwiKX1mdW5jdGlvbiBkKHQpe2lmKHQ+PXIoKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIityKCkudG9TdHJpbmcoMTYpK1wiIGJ5dGVzXCIpO3JldHVybiAwfHR9ZnVuY3Rpb24geSh0KXtyZXR1cm4rdCE9dCYmKHQ9MCksaS5hbGxvYygrdCl9ZnVuY3Rpb24gdih0LGUpe2lmKGkuaXNCdWZmZXIodCkpcmV0dXJuIHQubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiB0LmJ5dGVMZW5ndGg7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJih0PVwiXCIrdCk7dmFyIG49dC5sZW5ndGg7aWYoMD09PW4pcmV0dXJuIDA7Zm9yKHZhciByPSExOzspc3dpdGNoKGUpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIG47Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZSB2b2lkIDA6cmV0dXJuIHEodCkubGVuZ3RoO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiAyKm47Y2FzZVwiaGV4XCI6cmV0dXJuIG4+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBKKHQpLmxlbmd0aDtkZWZhdWx0OmlmKHIpcmV0dXJuIHEodCkubGVuZ3RoO2U9KFwiXCIrZSkudG9Mb3dlckNhc2UoKSxyPSEwfX1mdW5jdGlvbiBnKHQsZSxuKXt2YXIgcj0hMTtpZigodm9pZCAwPT09ZXx8ZTwwKSYmKGU9MCksZT50aGlzLmxlbmd0aClyZXR1cm5cIlwiO2lmKCh2b2lkIDA9PT1ufHxuPnRoaXMubGVuZ3RoKSYmKG49dGhpcy5sZW5ndGgpLG48PTApcmV0dXJuXCJcIjtpZihuPj4+PTAsZT4+Pj0wLG48PWUpcmV0dXJuXCJcIjtmb3IodHx8KHQ9XCJ1dGY4XCIpOzspc3dpdGNoKHQpe2Nhc2VcImhleFwiOnJldHVybiBOKHRoaXMsZSxuKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gUCh0aGlzLGUsbik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gUih0aGlzLGUsbik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIEkodGhpcyxlLG4pO2Nhc2VcImJhc2U2NFwiOnJldHVybiBDKHRoaXMsZSxuKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gQih0aGlzLGUsbik7ZGVmYXVsdDppZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIit0KTt0PSh0K1wiXCIpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24gbSh0LGUsbil7dmFyIHI9dFtlXTt0W2VdPXRbbl0sdFtuXT1yfWZ1bmN0aW9uIGIodCxlLG4scixvKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4/KHI9bixuPTApOm4+MjE0NzQ4MzY0Nz9uPTIxNDc0ODM2NDc6bjwtMjE0NzQ4MzY0OCYmKG49LTIxNDc0ODM2NDgpLG49K24saXNOYU4obikmJihuPW8/MDp0Lmxlbmd0aC0xKSxuPDAmJihuPXQubGVuZ3RoK24pLG4+PXQubGVuZ3RoKXtpZihvKXJldHVybi0xO249dC5sZW5ndGgtMX1lbHNlIGlmKG48MCl7aWYoIW8pcmV0dXJuLTE7bj0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1pLmZyb20oZSxyKSksaS5pc0J1ZmZlcihlKSlyZXR1cm4gMD09PWUubGVuZ3RoPy0xOkUodCxlLG4scixvKTtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZSY9MjU1LGkuVFlQRURfQVJSQVlfU1VQUE9SVCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9vP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LGUsbik6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbCh0LGUsbik6RSh0LFtlXSxuLHIsbyk7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBFKHQsZSxuLHIsbyl7ZnVuY3Rpb24gaSh0LGUpe3JldHVybiAxPT09cz90W2VdOnQucmVhZFVJbnQxNkJFKGUqcyl9dmFyIHM9MSxhPXQubGVuZ3RoLGM9ZS5sZW5ndGg7aWYodm9pZCAwIT09ciYmKFwidWNzMlwiPT09KHI9U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCkpfHxcInVjcy0yXCI9PT1yfHxcInV0ZjE2bGVcIj09PXJ8fFwidXRmLTE2bGVcIj09PXIpKXtpZih0Lmxlbmd0aDwyfHxlLmxlbmd0aDwyKXJldHVybi0xO3M9MixhLz0yLGMvPTIsbi89Mn12YXIgdTtpZihvKXt2YXIgaD0tMTtmb3IodT1uO3U8YTt1KyspaWYoaSh0LHUpPT09aShlLC0xPT09aD8wOnUtaCkpe2lmKC0xPT09aCYmKGg9dSksdS1oKzE9PT1jKXJldHVybiBoKnN9ZWxzZS0xIT09aCYmKHUtPXUtaCksaD0tMX1lbHNlIGZvcihuK2M+YSYmKG49YS1jKSx1PW47dT49MDt1LS0pe2Zvcih2YXIgbD0hMCxwPTA7cDxjO3ArKylpZihpKHQsdStwKSE9PWkoZSxwKSl7bD0hMTticmVha31pZihsKXJldHVybiB1fXJldHVybi0xfWZ1bmN0aW9uIHcodCxlLG4scil7bj1OdW1iZXIobil8fDA7dmFyIG89dC5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSk+byYmKHI9byk6cj1vO3ZhciBpPWUubGVuZ3RoO2lmKGklMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nXCIpO3I+aS8yJiYocj1pLzIpO2Zvcih2YXIgcz0wO3M8cjsrK3Mpe3ZhciBhPXBhcnNlSW50KGUuc3Vic3RyKDIqcywyKSwxNik7aWYoaXNOYU4oYSkpcmV0dXJuIHM7dFtuK3NdPWF9cmV0dXJuIHN9ZnVuY3Rpb24gayh0LGUsbixyKXtyZXR1cm4gVyhxKGUsdC5sZW5ndGgtbiksdCxuLHIpfWZ1bmN0aW9uIFQodCxlLG4scil7cmV0dXJuIFcoeihlKSx0LG4scil9ZnVuY3Rpb24gUyh0LGUsbixyKXtyZXR1cm4gVCh0LGUsbixyKX1mdW5jdGlvbiBfKHQsZSxuLHIpe3JldHVybiBXKEooZSksdCxuLHIpfWZ1bmN0aW9uIEEodCxlLG4scil7cmV0dXJuIFcoJChlLHQubGVuZ3RoLW4pLHQsbixyKX1mdW5jdGlvbiBDKHQsZSxuKXtyZXR1cm4gMD09PWUmJm49PT10Lmxlbmd0aD9WLmZyb21CeXRlQXJyYXkodCk6Vi5mcm9tQnl0ZUFycmF5KHQuc2xpY2UoZSxuKSl9ZnVuY3Rpb24gUCh0LGUsbil7bj1NYXRoLm1pbih0Lmxlbmd0aCxuKTtmb3IodmFyIHI9W10sbz1lO288bjspe3ZhciBpPXRbb10scz1udWxsLGE9aT4yMzk/NDppPjIyMz8zOmk+MTkxPzI6MTtpZihvK2E8PW4pe3ZhciBjLHUsaCxsO3N3aXRjaChhKXtjYXNlIDE6aTwxMjgmJihzPWkpO2JyZWFrO2Nhc2UgMjpjPXRbbysxXSwxMjg9PSgxOTImYykmJihsPSgzMSZpKTw8Nnw2MyZjKT4xMjcmJihzPWwpO2JyZWFrO2Nhc2UgMzpjPXRbbysxXSx1PXRbbysyXSwxMjg9PSgxOTImYykmJjEyOD09KDE5MiZ1KSYmKGw9KDE1JmkpPDwxMnwoNjMmYyk8PDZ8NjMmdSk+MjA0NyYmKGw8NTUyOTZ8fGw+NTczNDMpJiYocz1sKTticmVhaztjYXNlIDQ6Yz10W28rMV0sdT10W28rMl0saD10W28rM10sMTI4PT0oMTkyJmMpJiYxMjg9PSgxOTImdSkmJjEyOD09KDE5MiZoKSYmKGw9KDE1JmkpPDwxOHwoNjMmYyk8PDEyfCg2MyZ1KTw8Nnw2MyZoKT42NTUzNSYmbDwxMTE0MTEyJiYocz1sKX19bnVsbD09PXM/KHM9NjU1MzMsYT0xKTpzPjY1NTM1JiYocy09NjU1MzYsci5wdXNoKHM+Pj4xMCYxMDIzfDU1Mjk2KSxzPTU2MzIwfDEwMjMmcyksci5wdXNoKHMpLG8rPWF9cmV0dXJuIE8ocil9ZnVuY3Rpb24gTyh0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD1RKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0KTtmb3IodmFyIG49XCJcIixyPTA7cjxlOyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0LnNsaWNlKHIscis9USkpO3JldHVybiBufWZ1bmN0aW9uIFIodCxlLG4pe3ZhciByPVwiXCI7bj1NYXRoLm1pbih0Lmxlbmd0aCxuKTtmb3IodmFyIG89ZTtvPG47KytvKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JnRbb10pO3JldHVybiByfWZ1bmN0aW9uIEkodCxlLG4pe3ZhciByPVwiXCI7bj1NYXRoLm1pbih0Lmxlbmd0aCxuKTtmb3IodmFyIG89ZTtvPG47KytvKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTih0LGUsbil7dmFyIHI9dC5sZW5ndGg7KCFlfHxlPDApJiYoZT0wKSwoIW58fG48MHx8bj5yKSYmKG49cik7Zm9yKHZhciBvPVwiXCIsaT1lO2k8bjsrK2kpbys9SCh0W2ldKTtyZXR1cm4gb31mdW5jdGlvbiBCKHQsZSxuKXtmb3IodmFyIHI9dC5zbGljZShlLG4pLG89XCJcIixpPTA7aTxyLmxlbmd0aDtpKz0yKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUocltpXSsyNTYqcltpKzFdKTtyZXR1cm4gb31mdW5jdGlvbiB4KHQsZSxuKXtpZih0JTEhPTB8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZih0K2U+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24gVSh0LGUsbixyLG8scyl7aWYoIWkuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYoZT5vfHxlPHMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYobityPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIEwodCxlLG4scil7ZTwwJiYoZT02NTUzNStlKzEpO2Zvcih2YXIgbz0wLGk9TWF0aC5taW4odC5sZW5ndGgtbiwyKTtvPGk7KytvKXRbbitvXT0oZSYyNTU8PDgqKHI/bzoxLW8pKT4+PjgqKHI/bzoxLW8pfWZ1bmN0aW9uIEQodCxlLG4scil7ZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSk7Zm9yKHZhciBvPTAsaT1NYXRoLm1pbih0Lmxlbmd0aC1uLDQpO288aTsrK28pdFtuK29dPWU+Pj44KihyP286My1vKSYyNTV9ZnVuY3Rpb24gaih0LGUsbixyLG8saSl7aWYobityPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBNKHQsZSxuLHIsbyl7cmV0dXJuIG98fGoodCxlLG4sNCwzLjQwMjgyMzQ2NjM4NTI4ODZlMzgsLTMuNDAyODIzNDY2Mzg1Mjg4NmUzOCksWC53cml0ZSh0LGUsbixyLDIzLDQpLG4rNH1mdW5jdGlvbiBZKHQsZSxuLHIsbyl7cmV0dXJuIG98fGoodCxlLG4sOCwxLjc5NzY5MzEzNDg2MjMxNTdlMzA4LC0xLjc5NzY5MzEzNDg2MjMxNTdlMzA4KSxYLndyaXRlKHQsZSxuLHIsNTIsOCksbis4fWZ1bmN0aW9uIEYodCl7aWYodD1HKHQpLnJlcGxhY2UodHQsXCJcIiksdC5sZW5ndGg8MilyZXR1cm5cIlwiO2Zvcig7dC5sZW5ndGglNCE9MDspdCs9XCI9XCI7cmV0dXJuIHR9ZnVuY3Rpb24gRyh0KXtyZXR1cm4gdC50cmltP3QudHJpbSgpOnQucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX1mdW5jdGlvbiBIKHQpe3JldHVybiB0PDE2P1wiMFwiK3QudG9TdHJpbmcoMTYpOnQudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIHEodCxlKXtlPWV8fDEvMDtmb3IodmFyIG4scj10Lmxlbmd0aCxvPW51bGwsaT1bXSxzPTA7czxyOysrcyl7aWYoKG49dC5jaGFyQ29kZUF0KHMpKT41NTI5NSYmbjw1NzM0NCl7aWYoIW8pe2lmKG4+NTYzMTkpeyhlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihzKzE9PT1yKXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bz1uO2NvbnRpbnVlfWlmKG48NTYzMjApeyhlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KSxvPW47Y29udGludWV9bj02NTUzNisoby01NTI5Njw8MTB8bi01NjMyMCl9ZWxzZSBvJiYoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7aWYobz1udWxsLG48MTI4KXtpZigoZS09MSk8MClicmVhaztpLnB1c2gobil9ZWxzZSBpZihuPDIwNDgpe2lmKChlLT0yKTwwKWJyZWFrO2kucHVzaChuPj42fDE5Miw2MyZufDEyOCl9ZWxzZSBpZihuPDY1NTM2KXtpZigoZS09Myk8MClicmVhaztpLnB1c2gobj4+MTJ8MjI0LG4+PjYmNjN8MTI4LDYzJm58MTI4KX1lbHNle2lmKCEobjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7aWYoKGUtPTQpPDApYnJlYWs7aS5wdXNoKG4+PjE4fDI0MCxuPj4xMiY2M3wxMjgsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfX1yZXR1cm4gaX1mdW5jdGlvbiB6KHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pZS5wdXNoKDI1NSZ0LmNoYXJDb2RlQXQobikpO3JldHVybiBlfWZ1bmN0aW9uICQodCxlKXtmb3IodmFyIG4scixvLGk9W10scz0wO3M8dC5sZW5ndGgmJiEoKGUtPTIpPDApOysrcyluPXQuY2hhckNvZGVBdChzKSxyPW4+Pjgsbz1uJTI1NixpLnB1c2gobyksaS5wdXNoKHIpO3JldHVybiBpfWZ1bmN0aW9uIEoodCl7cmV0dXJuIFYudG9CeXRlQXJyYXkoRih0KSl9ZnVuY3Rpb24gVyh0LGUsbixyKXtmb3IodmFyIG89MDtvPHImJiEobytuPj1lLmxlbmd0aHx8bz49dC5sZW5ndGgpOysrbyllW28rbl09dFtvXTtyZXR1cm4gb31mdW5jdGlvbiBLKHQpe3JldHVybiB0IT09dH0vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBJbmphbSA8aW5mb0BpbmphbS5pbz4gPGh0dHBzOi8vaW5qYW0uaW8+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbnZhciBWPW4oMTApLFg9bigxMSksWj1uKDEyKTtlLkJ1ZmZlcj1pLGUuU2xvd0J1ZmZlcj15LGUuSU5TUEVDVF9NQVhfQllURVM9NTAsaS5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PXQuVFlQRURfQVJSQVlfU1VQUE9SVD90LlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIHQuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT10LmZvbygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnN1YmFycmF5JiYwPT09dC5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGUua01heExlbmd0aD1yKCksaS5wb29sU2l6ZT04MTkyLGkuX2F1Z21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19fPWkucHJvdG90eXBlLHR9LGkuZnJvbT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHMobnVsbCx0LGUsbil9LGkuVFlQRURfQVJSQVlfU1VQUE9SVCYmKGkucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxpLl9fcHJvdG9fXz1VaW50OEFycmF5LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5zcGVjaWVzJiZpW1N5bWJvbC5zcGVjaWVzXT09PWkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMH0pKSxpLmFsbG9jPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYyhudWxsLHQsZSxuKX0saS5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtyZXR1cm4gdShudWxsLHQpfSxpLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbih0KXtyZXR1cm4gdShudWxsLHQpfSxpLmlzQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiEobnVsbD09dHx8IXQuX2lzQnVmZmVyKX0saS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYoIWkuaXNCdWZmZXIodCl8fCFpLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzXCIpO2lmKHQ9PT1lKXJldHVybiAwO2Zvcih2YXIgbj10Lmxlbmd0aCxyPWUubGVuZ3RoLG89MCxzPU1hdGgubWluKG4scik7bzxzOysrbylpZih0W29dIT09ZVtvXSl7bj10W29dLHI9ZVtvXTticmVha31yZXR1cm4gbjxyPy0xOnI8bj8xOjB9LGkuaXNFbmNvZGluZz1mdW5jdGlvbih0KXtzd2l0Y2goU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGkuY29uY2F0PWZ1bmN0aW9uKHQsZSl7aWYoIVoodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBpLmFsbG9jKDApO3ZhciBuO2lmKHZvaWQgMD09PWUpZm9yKGU9MCxuPTA7bjx0Lmxlbmd0aDsrK24pZSs9dFtuXS5sZW5ndGg7dmFyIHI9aS5hbGxvY1Vuc2FmZShlKSxvPTA7Zm9yKG49MDtuPHQubGVuZ3RoOysrbil7dmFyIHM9dFtuXTtpZighaS5pc0J1ZmZlcihzKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtzLmNvcHkocixvKSxvKz1zLmxlbmd0aH1yZXR1cm4gcn0saS5ieXRlTGVuZ3RoPXYsaS5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLGkucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz0yKW0odGhpcyxlLGUrMSk7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz00KW0odGhpcyxlLGUrMyksbSh0aGlzLGUrMSxlKzIpO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9OCltKHRoaXMsZSxlKzcpLG0odGhpcyxlKzEsZSs2KSxtKHRoaXMsZSsyLGUrNSksbSh0aGlzLGUrMyxlKzQpO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT10P1wiXCI6MD09PWFyZ3VtZW50cy5sZW5ndGg/UCh0aGlzLDAsdCk6Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighaS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PXR8fDA9PT1pLmNvbXBhcmUodGhpcyx0KX0saS5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciB0PVwiXCIsbj1lLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYodD10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxuKS5tYXRjaCgvLnsyfS9nKS5qb2luKFwiIFwiKSx0aGlzLmxlbmd0aD5uJiYodCs9XCIgLi4uIFwiKSksXCI8QnVmZmVyIFwiK3QrXCI+XCJ9LGkucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlLG4scixvKXtpZighaS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj10P3QubGVuZ3RoOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSxlPDB8fG4+dC5sZW5ndGh8fHI8MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihyPj1vJiZlPj1uKXJldHVybiAwO2lmKHI+PW8pcmV0dXJuLTE7aWYoZT49bilyZXR1cm4gMTtpZihlPj4+PTAsbj4+Pj0wLHI+Pj49MCxvPj4+PTAsdGhpcz09PXQpcmV0dXJuIDA7Zm9yKHZhciBzPW8tcixhPW4tZSxjPU1hdGgubWluKHMsYSksdT10aGlzLnNsaWNlKHIsbyksaD10LnNsaWNlKGUsbiksbD0wO2w8YzsrK2wpaWYodVtsXSE9PWhbbF0pe3M9dVtsXSxhPWhbbF07YnJlYWt9cmV0dXJuIHM8YT8tMTphPHM/MTowfSxpLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YodCxlLG4pfSxpLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYih0aGlzLHQsZSxuLCEwKX0saS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBiKHRoaXMsdCxlLG4sITEpfSxpLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUsbixyKXtpZih2b2lkIDA9PT1lKXI9XCJ1dGY4XCIsbj10aGlzLmxlbmd0aCxlPTA7ZWxzZSBpZih2b2lkIDA9PT1uJiZcInN0cmluZ1wiPT10eXBlb2YgZSlyPWUsbj10aGlzLmxlbmd0aCxlPTA7ZWxzZXtpZighaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7ZXw9MCxpc0Zpbml0ZShuKT8obnw9MCx2b2lkIDA9PT1yJiYocj1cInV0ZjhcIikpOihyPW4sbj12b2lkIDApfXZhciBvPXRoaXMubGVuZ3RoLWU7aWYoKHZvaWQgMD09PW58fG4+bykmJihuPW8pLHQubGVuZ3RoPjAmJihuPDB8fGU8MCl8fGU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtyfHwocj1cInV0ZjhcIik7Zm9yKHZhciBpPSExOzspc3dpdGNoKHIpe2Nhc2VcImhleFwiOnJldHVybiB3KHRoaXMsdCxlLG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBrKHRoaXMsdCxlLG4pO2Nhc2VcImFzY2lpXCI6cmV0dXJuIFQodGhpcyx0LGUsbik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIFModGhpcyx0LGUsbik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIF8odGhpcyx0LGUsbik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIEEodGhpcyx0LGUsbik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIityKTtyPShcIlwiK3IpLnRvTG93ZXJDYXNlKCksaT0hMH19LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTt2YXIgUT00MDk2O2kucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5sZW5ndGg7dD1+fnQsZT12b2lkIDA9PT1lP246fn5lLHQ8MD8odCs9bik8MCYmKHQ9MCk6dD5uJiYodD1uKSxlPDA/KGUrPW4pPDAmJihlPTApOmU+biYmKGU9biksZTx0JiYoZT10KTt2YXIgcjtpZihpLlRZUEVEX0FSUkFZX1NVUFBPUlQpcj10aGlzLnN1YmFycmF5KHQsZSksci5fX3Byb3RvX189aS5wcm90b3R5cGU7ZWxzZXt2YXIgbz1lLXQ7cj1uZXcgaShvLHZvaWQgMCk7Zm9yKHZhciBzPTA7czxvOysrcylyW3NdPXRoaXNbcyt0XX1yZXR1cm4gcn0saS5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbih0LGUsbil7dHw9MCxlfD0wLG58fHgodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1t0XSxvPTEsaT0wOysraTxlJiYobyo9MjU2KTspcis9dGhpc1t0K2ldKm87cmV0dXJuIHJ9LGkucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24odCxlLG4pe3R8PTAsZXw9MCxufHx4KHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbdCstLWVdLG89MTtlPjAmJihvKj0yNTYpOylyKz10aGlzW3QrLS1lXSpvO3JldHVybiByfSxpLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8eCh0LDEsdGhpcy5sZW5ndGgpLHRoaXNbdF19LGkucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHx4KHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh9LGkucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHx4KHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XTw8OHx0aGlzW3QrMV19LGkucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHx4KHQsNCx0aGlzLmxlbmd0aCksKHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbdCszXX0saS5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fHgodCw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW3RdKyh0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM10pfSxpLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odCxlLG4pe3R8PTAsZXw9MCxufHx4KHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbdF0sbz0xLGk9MDsrK2k8ZSYmKG8qPTI1Nik7KXIrPXRoaXNbdCtpXSpvO3JldHVybiBvKj0xMjgscj49byYmKHItPU1hdGgucG93KDIsOCplKSkscn0saS5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKHQsZSxuKXt0fD0wLGV8PTAsbnx8eCh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj1lLG89MSxpPXRoaXNbdCstLXJdO3I+MCYmKG8qPTI1Nik7KWkrPXRoaXNbdCstLXJdKm87cmV0dXJuIG8qPTEyOCxpPj1vJiYoaS09TWF0aC5wb3coMiw4KmUpKSxpfSxpLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbih0LGUpe3JldHVybiBlfHx4KHQsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbdF0/LTEqKDI1NS10aGlzW3RdKzEpOnRoaXNbdF19LGkucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7ZXx8eCh0LDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbdF18dGhpc1t0KzFdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxpLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbih0LGUpe2V8fHgodCwyLHRoaXMubGVuZ3RoKTt2YXIgbj10aGlzW3QrMV18dGhpc1t0XTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0saS5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8eCh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTZ8dGhpc1t0KzNdPDwyNH0saS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8eCh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF08PDI0fHRoaXNbdCsxXTw8MTZ8dGhpc1t0KzJdPDw4fHRoaXNbdCszXX0saS5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8eCh0LDQsdGhpcy5sZW5ndGgpLFgucmVhZCh0aGlzLHQsITAsMjMsNCl9LGkucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fHgodCw0LHRoaXMubGVuZ3RoKSxYLnJlYWQodGhpcyx0LCExLDIzLDQpfSxpLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8eCh0LDgsdGhpcy5sZW5ndGgpLFgucmVhZCh0aGlzLHQsITAsNTIsOCl9LGkucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHx4KHQsOCx0aGlzLmxlbmd0aCksWC5yZWFkKHRoaXMsdCwhMSw1Miw4KX0saS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odCxlLG4scil7aWYodD0rdCxlfD0wLG58PTAsIXIpe1UodGhpcyx0LGUsbixNYXRoLnBvdygyLDgqbiktMSwwKX12YXIgbz0xLGk9MDtmb3IodGhpc1tlXT0yNTUmdDsrK2k8biYmKG8qPTI1Nik7KXRoaXNbZStpXT10L28mMjU1O3JldHVybiBlK259LGkucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9K3QsZXw9MCxufD0wLCFyKXtVKHRoaXMsdCxlLG4sTWF0aC5wb3coMiw4Km4pLTEsMCl9dmFyIG89bi0xLGk9MTtmb3IodGhpc1tlK29dPTI1NSZ0Oy0tbz49MCYmKGkqPTI1Nik7KXRoaXNbZStvXT10L2kmMjU1O3JldHVybiBlK259LGkucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGV8PTAsbnx8VSh0aGlzLHQsZSwxLDI1NSwwKSxpLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh0PU1hdGguZmxvb3IodCkpLHRoaXNbZV09MjU1JnQsZSsxfSxpLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlfD0wLG58fFUodGhpcyx0LGUsMiw2NTUzNSwwKSxpLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44KTpMKHRoaXMsdCxlLCEwKSxlKzJ9LGkucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGV8PTAsbnx8VSh0aGlzLHQsZSwyLDY1NTM1LDApLGkuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQpOkwodGhpcyx0LGUsITEpLGUrMn0saS5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxVKHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSxpLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZSszXT10Pj4+MjQsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrMV09dD4+PjgsdGhpc1tlXT0yNTUmdCk6RCh0aGlzLHQsZSwhMCksZSs0fSxpLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlfD0wLG58fFUodGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLGkuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0KTpEKHRoaXMsdCxlLCExKSxlKzR9LGkucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24odCxlLG4scil7aWYodD0rdCxlfD0wLCFyKXt2YXIgbz1NYXRoLnBvdygyLDgqbi0xKTtVKHRoaXMsdCxlLG4sby0xLC1vKX12YXIgaT0wLHM9MSxhPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytpPG4mJihzKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK2ktMV0mJihhPTEpLHRoaXNbZStpXT0odC9zPj4wKS1hJjI1NTtyZXR1cm4gZStufSxpLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9K3QsZXw9MCwhcil7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7VSh0aGlzLHQsZSxuLG8tMSwtbyl9dmFyIGk9bi0xLHM9MSxhPTA7Zm9yKHRoaXNbZStpXT0yNTUmdDstLWk+PTAmJihzKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK2krMV0mJihhPTEpLHRoaXNbZStpXT0odC9zPj4wKS1hJjI1NTtyZXR1cm4gZStufSxpLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGV8PTAsbnx8VSh0aGlzLHQsZSwxLDEyNywtMTI4KSxpLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh0PU1hdGguZmxvb3IodCkpLHQ8MCYmKHQ9MjU1K3QrMSksdGhpc1tlXT0yNTUmdCxlKzF9LGkucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxVKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSxpLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44KTpMKHRoaXMsdCxlLCEwKSxlKzJ9LGkucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxVKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSxpLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09dD4+PjgsdGhpc1tlKzFdPTI1NSZ0KTpMKHRoaXMsdCxlLCExKSxlKzJ9LGkucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZXw9MCxufHxVKHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksaS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjQpOkQodGhpcyx0LGUsITApLGUrNH0saS5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlfD0wLG58fFUodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKSxpLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09dD4+PjI0LHRoaXNbZSsxXT10Pj4+MTYsdGhpc1tlKzJdPXQ+Pj44LHRoaXNbZSszXT0yNTUmdCk6RCh0aGlzLHQsZSwhMSksZSs0fSxpLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNKHRoaXMsdCxlLCEwLG4pfSxpLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNKHRoaXMsdCxlLCExLG4pfSxpLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gWSh0aGlzLHQsZSwhMCxuKX0saS5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFkodGhpcyx0LGUsITEsbil9LGkucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlLG4scil7aWYobnx8KG49MCkscnx8MD09PXJ8fChyPXRoaXMubGVuZ3RoKSxlPj10Lmxlbmd0aCYmKGU9dC5sZW5ndGgpLGV8fChlPTApLHI+MCYmcjxuJiYocj1uKSxyPT09bilyZXR1cm4gMDtpZigwPT09dC5sZW5ndGh8fDA9PT10aGlzLmxlbmd0aClyZXR1cm4gMDtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKG48MHx8bj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO3I+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKSx0Lmxlbmd0aC1lPHItbiYmKHI9dC5sZW5ndGgtZStuKTt2YXIgbyxzPXItbjtpZih0aGlzPT09dCYmbjxlJiZlPHIpZm9yKG89cy0xO28+PTA7LS1vKXRbbytlXT10aGlzW28rbl07ZWxzZSBpZihzPDFlM3x8IWkuVFlQRURfQVJSQVlfU1VQUE9SVClmb3Iobz0wO288czsrK28pdFtvK2VdPXRoaXNbbytuXTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHQsdGhpcy5zdWJhcnJheShuLG4rcyksZSk7cmV0dXJuIHN9LGkucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLG4scil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlPyhyPWUsZT0wLG49dGhpcy5sZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiBuJiYocj1uLG49dGhpcy5sZW5ndGgpLDE9PT10Lmxlbmd0aCl7dmFyIG89dC5jaGFyQ29kZUF0KDApO288MjU2JiYodD1vKX1pZih2b2lkIDAhPT1yJiZcInN0cmluZ1wiIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmIWkuaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcil9ZWxzZVwibnVtYmVyXCI9PXR5cGVvZiB0JiYodCY9MjU1KTtpZihlPDB8fHRoaXMubGVuZ3RoPGV8fHRoaXMubGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYobjw9ZSlyZXR1cm4gdGhpcztlPj4+PTAsbj12b2lkIDA9PT1uP3RoaXMubGVuZ3RoOm4+Pj4wLHR8fCh0PTApO3ZhciBzO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWZvcihzPWU7czxuOysrcyl0aGlzW3NdPXQ7ZWxzZXt2YXIgYT1pLmlzQnVmZmVyKHQpP3Q6cShuZXcgaSh0LHIpLnRvU3RyaW5nKCkpLGM9YS5sZW5ndGg7Zm9yKHM9MDtzPG4tZTsrK3MpdGhpc1tzK2VdPWFbcyVjXX1yZXR1cm4gdGhpc307dmFyIHR0PS9bXitcXC8wLTlBLVphLXotX10vZ30pLmNhbGwoZSxuKDApKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksbz1yLkludmFsaWRBY3Rpb25FcnJvcixpPWZ1bmN0aW9uKHQsZSl7dGhpcy5zb2NrZXQ9dCx0aGlzLmlkPWUsdGhpcy5zZW50PSExfTtpLnByb3RvdHlwZS5fcmVzcG9uZD1mdW5jdGlvbih0KXtpZih0aGlzLnNlbnQpdGhyb3cgbmV3IG8oXCJSZXNwb25zZSBcIit0aGlzLmlkK1wiIGhhcyBhbHJlYWR5IGJlZW4gc2VudFwiKTt0aGlzLnNlbnQ9ITAsdGhpcy5zb2NrZXQuc2VuZCh0aGlzLnNvY2tldC5lbmNvZGUodCkpfSxpLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5pZCl7dmFyIGU9e3JpZDp0aGlzLmlkfTt2b2lkIDAhPT10JiYoZS5kYXRhPXQpLHRoaXMuX3Jlc3BvbmQoZSl9fSxpLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaWQpe3ZhciBuPXIuZGVoeWRyYXRlRXJyb3IodCksbz17cmlkOnRoaXMuaWQsZXJyb3I6bn07dm9pZCAwIT09ZSYmKG8uZGF0YT1lKSx0aGlzLl9yZXNwb25kKG8pfX0saS5wcm90b3R5cGUuY2FsbGJhY2s9ZnVuY3Rpb24odCxlKXt0P3RoaXMuZXJyb3IodCxlKTp0aGlzLmVuZChlKX0sdC5leHBvcnRzLlJlc3BvbnNlPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmRlY29kZT1lLnBhcnNlPW4oMTgpLGUuZW5jb2RlPWUuc3RyaW5naWZ5PW4oMTkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxzPW4oOCksYT1uKDkpLGM9bigyNykuRXZlbnRFbWl0dGVyO3QuSW5qYW09ZnVuY3Rpb24obil7ZnVuY3Rpb24gYyh0KXtlKHRoaXMsYyk7dmFyIG49cih0aGlzLChjLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpKS5jYWxsKHRoaXMsdCkpO3JldHVybiBuLmNyZWRlbnRpYWxzPXQsbn1yZXR1cm4gbyhjLG4pLGkoYyxbe2tleTpcImNvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dC5Tb2NrZXQ9YS5jb25uZWN0KHtob3N0bmFtZTpzLmhvc3Qsc2VjdXJlOnMuc2VjdXJlLHBvcnQ6cy5wb3J0LHBhdGg6cy5wYXRoLGF1dGhUb2tlbk5hbWU6XCJJbmphbS5hdXRoVG9rZW5cIn0pLHQuYmF0Y2hQb3NpdGlvbnM9W10sU29ja2V0Lm9uKFwiY29ubmVjdGluZ1wiLGZ1bmN0aW9uKCl7ZS5lbWl0KFwiY29ubmVjdGluZ1wiKX0pLm9uKFwiY29ubmVjdFwiLGZ1bmN0aW9uKHQpe2UuZW1pdChcImNvbm5lY3RlZFwiKSx0LmlzQXV0aGVudGljYXRlZHx8KGUuZW1pdChcInVuYXV0aG9yaXplZFwiKSxlLmNyZWRlbnRpYWxzLnBhY2thZ2VfbmFtZT1lLmdldFBhY2thZ2VOYW1lKCksU29ja2V0LmVtaXQoXCJsb2dpblwiLGUuY3JlZGVudGlhbHMsZnVuY3Rpb24odCl7fSkpfSkub24oXCJ0b1N1YnNjcmliZVwiLGZ1bmN0aW9uKHQpe2Uuc3Vic2NyaWJlKHQpfSkub24oXCJzdWJzY3JpYmVcIixmdW5jdGlvbih0KXtlLmVtaXQoXCJzdWJzY3JpYmVkXCIsdCl9KS5vbihcInN1YnNjcmliZUZhaWxcIixmdW5jdGlvbih0KXtlLmVtaXQoXCJzdWJzY3JpYmVGYWlsXCIsdCl9KS5vbihcInVuc3Vic2NyaWJlXCIsZnVuY3Rpb24odCl7ZS5lbWl0KFwidW5zdWJzY3JpYmVkXCIsdCl9KS5vbihcImF1dGhlbnRpY2F0ZVwiLGZ1bmN0aW9uKHQpe2UuZW1pdChcImF1dGhlbnRpY2F0ZWRcIix0KX0pLm9uKFwiZGVhdXRoZW50aWNhdGVcIixmdW5jdGlvbigpe2UuZW1pdChcInVuYXV0aG9yaXplZFwiKSxTb2NrZXQuZW1pdChcImxvZ2luXCIsZS5jcmVkZW50aWFscyxmdW5jdGlvbih0KXt9KX0pLm9uKFwiZGlzY29ubmVjdFwiLGZ1bmN0aW9uKHQpe2UuZW1pdChcImRpc2Nvbm5lY3RlZFwiLHQpfSkub24oXCJjbG9zZVwiLGZ1bmN0aW9uKHQpe2UuZW1pdChcImNsb3NlZFwiLHQpfSl9fSx7a2V5Olwid2F0Y2hMb2NhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7ZT12b2lkIDA9PT1lfHxlLG49dm9pZCAwIT09biYmbjt2YXIgcj10aGlzLG89e3RpbWVvdXQ6NWUzLGVuYWJsZUhpZ2hBY2N1cmFjeTohMCxtYXhpbXVtQWdlOjEvMH07ZT8odC53YXRjaExvY2F0aW9uSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LmdldEN1cnJlbnRQb3NpdGlvbj1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHIuc2V0QmF0Y2hQb3NpdGlvbnMsdGhpcy5nZW9sb2NhdGlvbkVycm9yLG8pfSw1MDApLHQuZW1pdE5ld1Bvc2l0aW9uSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LmJhdGNoUG9zaXRpb25zLmxlbmd0aCYmKHIuZW1pdChcIm5ld1Bvc2l0aW9uXCIse2Nvb3JkaW5hdGVzOmgodC5iYXRjaFBvc2l0aW9ucyl9KSx0LmJhdGNoUG9zaXRpb25zPVtdKX0sNWUzKSk6biYmbj49M2UzP3QuZW1pdE5ld1Bvc2l0aW9uSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LmdldEN1cnJlbnRQb3NpdGlvbj1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHQpe3IuZW1pdChcIm5ld1Bvc2l0aW9uXCIse2xhdDp0LmNvb3Jkcy5sYXRpdHVkZSxsbmc6dC5jb29yZHMubG9uZ2l0dWRlfSl9LHRoaXMuZ2VvbG9jYXRpb25FcnJvcixvKX0sbik6dC53YXRjaFBvc2l0aW9uPW5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uKHQpe3IuZW1pdChcIm5ld1Bvc2l0aW9uXCIse2xhdDp0LmNvb3Jkcy5sYXRpdHVkZSxsbmc6dC5jb29yZHMubG9uZ2l0dWRlfSl9LHRoaXMuZ2VvbG9jYXRpb25FcnJvcixvKX19LHtrZXk6XCJzdG9wV2F0Y2hMb2NhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godC53YXRjaFBvc2l0aW9uKSxjbGVhckludGVydmFsKHQud2F0Y2hMb2NhdGlvbkludGVydmFsKSxjbGVhckludGVydmFsKHQuZW1pdE5ld1Bvc2l0aW9uSW50ZXJ2YWwpfX0se2tleTpcInVwZGF0ZUxvY2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7U29ja2V0LmVtaXQoXCJuZXdQb3NpdGlvblwiLHQpfX0se2tleTpcInN1YnNjcmliZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7U29ja2V0LnN1YnNjcmliZSh0LHt3YWl0Rm9yQXV0aDohMH0pLndhdGNoKGZ1bmN0aW9uKG4pe2Uud2F0Y2hEYXRhKHQsbil9KX19LHtrZXk6XCJ1bnN1YnNjcmliZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe1NvY2tldC51bnN1YnNjcmliZSh0KX19LHtrZXk6XCJ3YXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe1NvY2tldC53YXRjaChmdW5jdGlvbihlKXskdGhpcy53YXRjaERhdGEodCxlKX0pfX0se2tleTpcInVud2F0Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXtTb2NrZXQudW53YXRjaCh0KX19LHtrZXk6XCJpc1N1YnNjcmliZWRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2U9dm9pZCAwPT09ZXx8ZSxTb2NrZXQuaXNTdWJzY3JpYmVkKHQsZSl9fSx7a2V5OlwicHVibGlzaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe1NvY2tldC5wdWJsaXNoKHRoaXMuY3JlZGVudGlhbHMucGh5c2ljYWxfaWQsdCl9fSx7a2V5Olwid2F0Y2hEYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHUoZSk/KGU9SlNPTi5wYXJzZShlKSxlLmNoYW5uZWw9dCk6ZT17Y2hhbm5lbDp0LGRhdGE6ZX0sZS5sb2NhdGlvbilpZihlLmxvY2F0aW9uLmNvb3JkaW5hdGVzKXt2YXIgcj1lLmxvY2F0aW9uLmNvb3JkaW5hdGVzO2RlbGV0ZSBlLmxvY2F0aW9uLmNvb3JkaW5hdGVzLGZ1bmN0aW9uIHQoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7KytvPHIubGVuZ3RoJiYoZS5sb2NhdGlvbi5sYXQ9cltvXS5sYXQsZS5sb2NhdGlvbi5sbmc9cltvXS5sbmcsbi5lbWl0KFwidHJhY2tpbmdcIixlKSx0KCkpfSw1MDApfSgpO3ZhciBvPTB9ZWxzZSBuLmVtaXQoXCJ0cmFja2luZ1wiLGUpO2Vsc2Ugbi5lbWl0KFwicmF3RGF0YVwiLGUpfX0se2tleTpcImdlb2xvY2F0aW9uRXJyb3JcIix2YWx1ZTpmdW5jdGlvbih0KXt0Lmxlbmd0aD4wJiZjb25zb2xlLmxvZyhcIkdlbyBFcnJvcjogXCIrSlNPTi5zdHJpbmdpZnkodCkpfX0se2tleTpcInNldEJhdGNoUG9zaXRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49e2xhdDplLmNvb3Jkcy5sYXRpdHVkZSxsbmc6ZS5jb29yZHMubG9uZ2l0dWRlfTt0LmJhdGNoUG9zaXRpb25zLnB1c2gobiksdC5iYXRjaFBvc2l0aW9ucy5sZW5ndGg+NTAmJih0LmJhdGNoUG9zaXRpb25zPXQuYmF0Y2hQb3NpdGlvbnMuc2xpY2UodC5iYXRjaFBvc2l0aW9ucy5sZW5ndGgtNTAsdC5iYXRjaFBvc2l0aW9ucy5sZW5ndGgpKX19LHtrZXk6XCJkaXNjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtTb2NrZXQuZGVzdHJveSgpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY29ubmVjdGluZ1wiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcImNvbm5lY3RlZFwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcImF1dGhlbnRpY2F0ZWRcIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJ1bmF1dGhvcml6ZWRcIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJzdWJzY3JpYmVkXCIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwic3Vic2NyaWJlRmFpbFwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInVuc3Vic2NyaWJlZFwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJhd0RhdGFcIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJ0cmFja2luZ1wiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcIm5ld1Bvc2l0aW9uXCIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwiZGlzY29ubmVjdGVkXCIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VkXCIpLGNsZWFySW50ZXJ2YWwodC53YXRjaExvY2F0aW9uSW50ZXJ2YWwpLGNsZWFySW50ZXJ2YWwodC5lbWl0TmV3UG9zaXRpb25JbnRlcnZhbCl9fSx7a2V5OlwiZ2V0UGFja2FnZU5hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LmxvY2F0aW9uJiZcIlwiIT10LmxvY2F0aW9uLmhvc3RuYW1lP3QubG9jYXRpb24uaG9zdG5hbWU6XCJsb2NhbGhvc3RcIn19LHtrZXk6XCJjbGVhclRva2VuXCIsdmFsdWU6ZnVuY3Rpb24oKXt0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiSW5qYW0uYXV0aFRva2VuXCIpfX1dKSxjfShjKTt2YXIgdT1mdW5jdGlvbih0KXt0cnl7SlNPTi5wYXJzZSh0KX1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm4hMH0saD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj17fSxyPTAsbz10Lmxlbmd0aDtyPG87cisrKW5bdFtyXVtlXV18fChuW3Rbcl1bZV1dPXRbcl0pO3ZhciBpPVtdO2Zvcih2YXIgcyBpbiBuKWkucHVzaChuW3NdKTtyZXR1cm4gaX07QXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKG51bGw9PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ0aGlzXCIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO3ZhciByPU9iamVjdCh0aGlzKSxvPXIubGVuZ3RoPj4+MDtpZigwPT09bylyZXR1cm4tMTtpZihuPStlfHwwLDEvMD09PU1hdGguYWJzKG4pJiYobj0wKSxuPj1vKXJldHVybi0xO2ZvcihuPU1hdGgubWF4KDA8PW4/bjpvLU1hdGguYWJzKG4pLDApO248bzspe2lmKG4gaW4gciYmcltuXT09PXQpcmV0dXJuIG47bisrfXJldHVybi0xfSl9KS5jYWxsKGUsbigwKSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtob3N0OlwiY29yZS5pbmphbS5pb1wiLHBvcnQ6ODA4MCxwYXRoOlwiL3NcIixzZWN1cmU6ITB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxvPW4oMjYpO3QuZXhwb3J0cy5TQ1NvY2tldENyZWF0b3I9byx0LmV4cG9ydHMuU0NTb2NrZXQ9cix0LmV4cG9ydHMuRW1pdHRlcj1uKDEpLHQuZXhwb3J0cy5jb25uZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBvLmNvbm5lY3QodCl9LHQuZXhwb3J0cy5kZXN0cm95PWZ1bmN0aW9uKHQpe3JldHVybiBvLmRlc3Ryb3kodCl9LHQuZXhwb3J0cy5jb25uZWN0aW9ucz1vLmNvbm5lY3Rpb25zLHQuZXhwb3J0cy52ZXJzaW9uPVwiNy4wLjJcIn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC5sZW5ndGg7aWYoZSU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTtyZXR1cm5cIj1cIj09PXRbZS0yXT8yOlwiPVwiPT09dFtlLTFdPzE6MH1mdW5jdGlvbiBvKHQpe3JldHVybiAzKnQubGVuZ3RoLzQtcih0KX1mdW5jdGlvbiBpKHQpe3ZhciBlLG4sbyxpLHMsYT10Lmxlbmd0aDtpPXIodCkscz1uZXcgbCgzKmEvNC1pKSxuPWk+MD9hLTQ6YTt2YXIgYz0wO2ZvcihlPTA7ZTxuO2UrPTQpbz1oW3QuY2hhckNvZGVBdChlKV08PDE4fGhbdC5jaGFyQ29kZUF0KGUrMSldPDwxMnxoW3QuY2hhckNvZGVBdChlKzIpXTw8NnxoW3QuY2hhckNvZGVBdChlKzMpXSxzW2MrK109bz4+MTYmMjU1LHNbYysrXT1vPj44JjI1NSxzW2MrK109MjU1Jm87cmV0dXJuIDI9PT1pPyhvPWhbdC5jaGFyQ29kZUF0KGUpXTw8MnxoW3QuY2hhckNvZGVBdChlKzEpXT4+NCxzW2MrK109MjU1Jm8pOjE9PT1pJiYobz1oW3QuY2hhckNvZGVBdChlKV08PDEwfGhbdC5jaGFyQ29kZUF0KGUrMSldPDw0fGhbdC5jaGFyQ29kZUF0KGUrMildPj4yLHNbYysrXT1vPj44JjI1NSxzW2MrK109MjU1Jm8pLHN9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdVt0Pj4xOCY2M10rdVt0Pj4xMiY2M10rdVt0Pj42JjYzXSt1WzYzJnRdfWZ1bmN0aW9uIGEodCxlLG4pe2Zvcih2YXIgcixvPVtdLGk9ZTtpPG47aSs9MylyPSh0W2ldPDwxNikrKHRbaSsxXTw8OCkrdFtpKzJdLG8ucHVzaChzKHIpKTtyZXR1cm4gby5qb2luKFwiXCIpfWZ1bmN0aW9uIGModCl7Zm9yKHZhciBlLG49dC5sZW5ndGgscj1uJTMsbz1cIlwiLGk9W10scz0wLGM9bi1yO3M8YztzKz0xNjM4MylpLnB1c2goYSh0LHMscysxNjM4Mz5jP2M6cysxNjM4MykpO3JldHVybiAxPT09cj8oZT10W24tMV0sbys9dVtlPj4yXSxvKz11W2U8PDQmNjNdLG8rPVwiPT1cIik6Mj09PXImJihlPSh0W24tMl08PDgpK3Rbbi0xXSxvKz11W2U+PjEwXSxvKz11W2U+PjQmNjNdLG8rPXVbZTw8MiY2M10sbys9XCI9XCIpLGkucHVzaChvKSxpLmpvaW4oXCJcIil9ZS5ieXRlTGVuZ3RoPW8sZS50b0J5dGVBcnJheT1pLGUuZnJvbUJ5dGVBcnJheT1jO2Zvcih2YXIgdT1bXSxoPVtdLGw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxwPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGY9MCxkPXAubGVuZ3RoO2Y8ZDsrK2YpdVtmXT1wW2ZdLGhbcC5jaGFyQ29kZUF0KGYpXT1mO2hbXCItXCIuY2hhckNvZGVBdCgwKV09NjIsaFtcIl9cIi5jaGFyQ29kZUF0KDApXT02M30sZnVuY3Rpb24odCxlKXtlLnJlYWQ9ZnVuY3Rpb24odCxlLG4scixvKXt2YXIgaSxzLGE9OCpvLXItMSxjPSgxPDxhKS0xLHU9Yz4+MSxoPS03LGw9bj9vLTE6MCxwPW4/LTE6MSxmPXRbZStsXTtmb3IobCs9cCxpPWYmKDE8PC1oKS0xLGY+Pj0taCxoKz1hO2g+MDtpPTI1NippK3RbZStsXSxsKz1wLGgtPTgpO2ZvcihzPWkmKDE8PC1oKS0xLGk+Pj0taCxoKz1yO2g+MDtzPTI1NipzK3RbZStsXSxsKz1wLGgtPTgpO2lmKDA9PT1pKWk9MS11O2Vsc2V7aWYoaT09PWMpcmV0dXJuIHM/TmFOOjEvMCooZj8tMToxKTtzKz1NYXRoLnBvdygyLHIpLGktPXV9cmV0dXJuKGY/LTE6MSkqcypNYXRoLnBvdygyLGktcil9LGUud3JpdGU9ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciBzLGEsYyx1PTgqaS1vLTEsaD0oMTw8dSktMSxsPWg+PjEscD0yMz09PW8/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGY9cj8wOmktMSxkPXI/MTotMSx5PWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8oYT1pc05hTihlKT8xOjAscz1oKToocz1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKihjPU1hdGgucG93KDIsLXMpKTwxJiYocy0tLGMqPTIpLGUrPXMrbD49MT9wL2M6cCpNYXRoLnBvdygyLDEtbCksZSpjPj0yJiYocysrLGMvPTIpLHMrbD49aD8oYT0wLHM9aCk6cytsPj0xPyhhPShlKmMtMSkqTWF0aC5wb3coMixvKSxzKz1sKTooYT1lKk1hdGgucG93KDIsbC0xKSpNYXRoLnBvdygyLG8pLHM9MCkpO28+PTg7dFtuK2ZdPTI1NSZhLGYrPWQsYS89MjU2LG8tPTgpO2ZvcihzPXM8PG98YSx1Kz1vO3U+MDt0W24rZl09MjU1JnMsZis9ZCxzLz0yNTYsdS09OCk7dFtuK2YtZF18PTEyOCp5fX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1uLmNhbGwodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxKSxvPWZ1bmN0aW9uKHQsZSxuKXtyLmNhbGwodGhpcyksdGhpcy5QRU5ESU5HPVwicGVuZGluZ1wiLHRoaXMuU1VCU0NSSUJFRD1cInN1YnNjcmliZWRcIix0aGlzLlVOU1VCU0NSSUJFRD1cInVuc3Vic2NyaWJlZFwiLHRoaXMubmFtZT10LHRoaXMuc3RhdGU9dGhpcy5VTlNVQlNDUklCRUQsdGhpcy5jbGllbnQ9ZSx0aGlzLm9wdGlvbnM9bnx8e30sdGhpcy5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9O28ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dHx8KHQ9e30pLHRoaXMud2FpdEZvckF1dGg9dC53YWl0Rm9yQXV0aHx8ITEsdm9pZCAwIT09dC5kYXRhJiYodGhpcy5kYXRhPXQuZGF0YSl9LG8ucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGV9LG8ucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbih0KXt0aGlzLmNsaWVudC5zdWJzY3JpYmUodGhpcy5uYW1lLHQpfSxvLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuY2xpZW50LnVuc3Vic2NyaWJlKHRoaXMubmFtZSl9LG8ucHJvdG90eXBlLmlzU3Vic2NyaWJlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbGllbnQuaXNTdWJzY3JpYmVkKHRoaXMubmFtZSx0KX0sby5wcm90b3R5cGUucHVibGlzaD1mdW5jdGlvbih0LGUpe3RoaXMuY2xpZW50LnB1Ymxpc2godGhpcy5uYW1lLHQsZSl9LG8ucHJvdG90eXBlLndhdGNoPWZ1bmN0aW9uKHQpe3RoaXMuY2xpZW50LndhdGNoKHRoaXMubmFtZSx0KX0sby5wcm90b3R5cGUudW53YXRjaD1mdW5jdGlvbih0KXt0aGlzLmNsaWVudC51bndhdGNoKHRoaXMubmFtZSx0KX0sby5wcm90b3R5cGUud2F0Y2hlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbGllbnQud2F0Y2hlcnModGhpcy5uYW1lKX0sby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2xpZW50LmRlc3Ryb3lDaGFubmVsKHRoaXMubmFtZSl9LHQuZXhwb3J0cy5TQ0NoYW5uZWw9b30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1bXTtyZXR1cm4gZnVuY3Rpb24gdChyLG8pe3ZhciBpLHMsYTtpZighKFwib2JqZWN0XCIhPXR5cGVvZiByfHxudWxsPT09cnx8ciBpbnN0YW5jZW9mIEJvb2xlYW58fHIgaW5zdGFuY2VvZiBEYXRlfHxyIGluc3RhbmNlb2YgTnVtYmVyfHxyIGluc3RhbmNlb2YgUmVnRXhwfHxyIGluc3RhbmNlb2YgU3RyaW5nKSl7Zm9yKGk9MDtpPGUubGVuZ3RoO2krPTEpaWYoZVtpXT09PXIpcmV0dXJueyRyZWY6bltpXX07aWYoZS5wdXNoKHIpLG4ucHVzaChvKSxcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHIpKWZvcihhPVtdLGk9MDtpPHIubGVuZ3RoO2krPTEpYVtpXT10KHJbaV0sbytcIltcIitpK1wiXVwiKTtlbHNle2E9e307Zm9yKHMgaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixzKSYmKGFbc109dChyW3NdLG8rXCJbXCIrSlNPTi5zdHJpbmdpZnkocykrXCJdXCIpKX1yZXR1cm4gYX1yZXR1cm4gcn0odCxcIiRcIil9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxTdG9yYWdlPXt9LHRoaXMuaXNMb2NhbFN0b3JhZ2VFbmFibGVkPXRoaXMuX2NoZWNrTG9jYWxTdG9yYWdlRW5hYmxlZCgpfTtuLnByb3RvdHlwZS5fY2hlY2tMb2NhbFN0b3JhZ2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIHQ7dHJ5e2UubG9jYWxTdG9yYWdlLGUubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJfX3NjTG9jYWxTdG9yYWdlVGVzdFwiLDEpLGUubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJfX3NjTG9jYWxTdG9yYWdlVGVzdFwiKX1jYXRjaChlKXt0PWV9cmV0dXJuIXR9LG4ucHJvdG90eXBlLnNhdmVUb2tlbj1mdW5jdGlvbih0LG4scixvKXt0aGlzLmlzTG9jYWxTdG9yYWdlRW5hYmxlZCYmZS5sb2NhbFN0b3JhZ2U/ZS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0LG4pOnRoaXMuX2ludGVybmFsU3RvcmFnZVt0XT1uLG8mJm8obnVsbCxuKX0sbi5wcm90b3R5cGUucmVtb3ZlVG9rZW49ZnVuY3Rpb24odCxuKXt2YXIgcjt0aGlzLmxvYWRUb2tlbih0LGZ1bmN0aW9uKHQsZSl7cj1lfSksdGhpcy5pc0xvY2FsU3RvcmFnZUVuYWJsZWQmJmUubG9jYWxTdG9yYWdlP2UubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCk6ZGVsZXRlIHRoaXMuX2ludGVybmFsU3RvcmFnZVt0XSxuJiZuKG51bGwscil9LG4ucHJvdG90eXBlLmxvYWRUb2tlbj1mdW5jdGlvbih0LG4pe3ZhciByO3I9dGhpcy5pc0xvY2FsU3RvcmFnZUVuYWJsZWQmJmUubG9jYWxTdG9yYWdlP2UubG9jYWxTdG9yYWdlLmdldEl0ZW0odCk6dGhpcy5faW50ZXJuYWxTdG9yYWdlW3RdfHxudWxsLG4obnVsbCxyKX0sdC5leHBvcnRzLkF1dGhFbmdpbmU9bn0pLmNhbGwoZSxuKDApKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXt2YXIgbj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixyPS9eWyBcXG5cXHJcXHRdKlt7XFxbXS8sbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IFVpbnQ4QXJyYXkodCkscj1lLmxlbmd0aCxvPVwiXCIsaT0wO2k8cjtpKz0zKW8rPW5bZVtpXT4+Ml0sbys9blsoMyZlW2ldKTw8NHxlW2krMV0+PjRdLG8rPW5bKDE1JmVbaSsxXSk8PDJ8ZVtpKzJdPj42XSxvKz1uWzYzJmVbaSsyXV07cmV0dXJuIHIlMz09Mj9vPW8uc3Vic3RyaW5nKDAsby5sZW5ndGgtMSkrXCI9XCI6ciUzPT0xJiYobz1vLnN1YnN0cmluZygwLG8ubGVuZ3RoLTIpK1wiPT1cIiksb30saT1mdW5jdGlvbih0LG4pe2lmKGUuQXJyYXlCdWZmZXImJm4gaW5zdGFuY2VvZiBlLkFycmF5QnVmZmVyKXJldHVybntiYXNlNjQ6ITAsZGF0YTpvKG4pfTtpZihlLkJ1ZmZlcil7aWYobiBpbnN0YW5jZW9mIGUuQnVmZmVyKXJldHVybntiYXNlNjQ6ITAsZGF0YTpuLnRvU3RyaW5nKFwiYmFzZTY0XCIpfTtpZihuJiZcIkJ1ZmZlclwiPT09bi50eXBlJiZBcnJheS5pc0FycmF5KG4uZGF0YSkpe3ZhciByO3JldHVybiByPWUuQnVmZmVyLmZyb20/ZS5CdWZmZXIuZnJvbShuLmRhdGEpOm5ldyBlLkJ1ZmZlcihuLmRhdGEpLHtiYXNlNjQ6ITAsZGF0YTpyLnRvU3RyaW5nKFwiYmFzZTY0XCIpfX19cmV0dXJuIG59O3QuZXhwb3J0cy5kZWNvZGU9ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gbnVsbDtpZihcIiMxXCI9PT10fHxcIiMyXCI9PT10KXJldHVybiB0O3ZhciBlPXQudG9TdHJpbmcoKTtpZighci50ZXN0KGUpKXJldHVybiBlO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaCh0KXt9cmV0dXJuIGV9LHQuZXhwb3J0cy5lbmNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuXCIjMVwiPT09dHx8XCIjMlwiPT09dD90OkpTT04uc3RyaW5naWZ5KHQsaSl9fSkuY2FsbChlLG4oMCkpfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciByLG8saT1uKDEpLHM9big1KS5SZXNwb25zZSxhPW4oNik7ZS5XZWJTb2NrZXQ/KHI9ZS5XZWJTb2NrZXQsbz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcih0KX0pOihyPW4oMjApLG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHIodCxudWxsLGUpfSk7dmFyIGM9bigyKSx1PWMuVGltZW91dEVycm9yLGg9Yy5CYWRDb25uZWN0aW9uRXJyb3IsbD1mdW5jdGlvbih0LGUsbil7dGhpcy5zdGF0ZT10aGlzLkNMT1NFRCx0aGlzLmF1dGg9dCx0aGlzLmNvZGVjPWUsdGhpcy5vcHRpb25zPW4sdGhpcy5jb25uZWN0VGltZW91dD1uLmNvbm5lY3RUaW1lb3V0LHRoaXMucGluZ1RpbWVvdXQ9bi5hY2tUaW1lb3V0LHRoaXMuY2FsbElkR2VuZXJhdG9yPW4uY2FsbElkR2VuZXJhdG9yLHRoaXMuYXV0aFRva2VuTmFtZT1uLmF1dGhUb2tlbk5hbWUsdGhpcy5fcGluZ1RpbWVvdXRUaWNrZXI9bnVsbCx0aGlzLl9jYWxsYmFja01hcD17fSx0aGlzLm9wZW4oKX07bC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksbC5DT05ORUNUSU5HPWwucHJvdG90eXBlLkNPTk5FQ1RJTkc9XCJjb25uZWN0aW5nXCIsbC5PUEVOPWwucHJvdG90eXBlLk9QRU49XCJvcGVuXCIsbC5DTE9TRUQ9bC5wcm90b3R5cGUuQ0xPU0VEPVwiY2xvc2VkXCIsbC5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnF1ZXJ5fHx7fSxlPXRoaXMub3B0aW9ucy5zZWN1cmU/XCJ3c3NcIjpcIndzXCI7dGhpcy5vcHRpb25zLnRpbWVzdGFtcFJlcXVlc3RzJiYodFt0aGlzLm9wdGlvbnMudGltZXN0YW1wUGFyYW1dPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSx0PWEuZW5jb2RlKHQpLHQubGVuZ3RoJiYodD1cIj9cIit0KTt2YXIgbjtpZih0aGlzLm9wdGlvbnMuaG9zdCluPXRoaXMub3B0aW9ucy5ob3N0O2Vsc2V7dmFyIHI9XCJcIjt0aGlzLm9wdGlvbnMucG9ydCYmKFwid3NzXCI9PWUmJjQ0MyE9dGhpcy5vcHRpb25zLnBvcnR8fFwid3NcIj09ZSYmODAhPXRoaXMub3B0aW9ucy5wb3J0KSYmKHI9XCI6XCIrdGhpcy5vcHRpb25zLnBvcnQpLG49dGhpcy5vcHRpb25zLmhvc3RuYW1lK3J9cmV0dXJuIGUrXCI6Ly9cIituK3RoaXMub3B0aW9ucy5wYXRoK3R9LGwucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhdGU9dGhpcy5DT05ORUNUSU5HO3ZhciBlPXRoaXMudXJpKCksbj1vKGUsdGhpcy5vcHRpb25zKTtuLmJpbmFyeVR5cGU9dGhpcy5vcHRpb25zLmJpbmFyeVR5cGUsdGhpcy5zb2NrZXQ9bixuLm9ub3Blbj1mdW5jdGlvbigpe3QuX29uT3BlbigpfSxuLm9uY2xvc2U9ZnVuY3Rpb24oZSl7dmFyIG47bj1udWxsPT1lLmNvZGU/MTAwNTplLmNvZGUsdC5fb25DbG9zZShuLGUucmVhc29uKX0sbi5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSxuKXt0Ll9vbk1lc3NhZ2UoZS5kYXRhKX0sbi5vbmVycm9yPWZ1bmN0aW9uKGUpe3Quc3RhdGU9PT10LkNPTk5FQ1RJTkcmJnQuX29uQ2xvc2UoMTAwNil9LHRoaXMuX2Nvbm5lY3RUaW1lb3V0UmVmPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9vbkNsb3NlKDQwMDcpLHQuc29ja2V0LmNsb3NlKDQwMDcpfSx0aGlzLmNvbm5lY3RUaW1lb3V0KX0sbC5wcm90b3R5cGUuX29uT3Blbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuX2Nvbm5lY3RUaW1lb3V0UmVmKSx0aGlzLl9yZXNldFBpbmdUaW1lb3V0KCksdGhpcy5faGFuZHNoYWtlKGZ1bmN0aW9uKGUsbil7ZT8odC5fb25FcnJvcihlKSx0Ll9vbkNsb3NlKDQwMDMpLHQuc29ja2V0LmNsb3NlKDQwMDMpKToodC5zdGF0ZT10Lk9QRU4saS5wcm90b3R5cGUuZW1pdC5jYWxsKHQsXCJvcGVuXCIsbiksdC5fcmVzZXRQaW5nVGltZW91dCgpKX0pfSxsLnByb3RvdHlwZS5faGFuZHNoYWtlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5hdXRoLmxvYWRUb2tlbih0aGlzLmF1dGhUb2tlbk5hbWUsZnVuY3Rpb24obixyKXtpZihuKXQobik7ZWxzZXt2YXIgbz17Zm9yY2U6ITB9O2UuZW1pdChcIiNoYW5kc2hha2VcIix7YXV0aFRva2VuOnJ9LG8sZnVuY3Rpb24oZSxuKXtuJiYobi5hdXRoVG9rZW49cixuLmF1dGhFcnJvciYmKG4uYXV0aEVycm9yPWMuaHlkcmF0ZUVycm9yKG4uYXV0aEVycm9yKSkpLHQoZSxuKX0pfX0pfSxsLnByb3RvdHlwZS5fYWJvcnRBbGxQZW5kaW5nRXZlbnRzRHVlVG9CYWRDb25uZWN0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLl9jYWxsYmFja01hcClpZih0aGlzLl9jYWxsYmFja01hcC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG49dGhpcy5fY2FsbGJhY2tNYXBbZV07ZGVsZXRlIHRoaXMuX2NhbGxiYWNrTWFwW2VdLGNsZWFyVGltZW91dChuLnRpbWVvdXQpLGRlbGV0ZSBuLnRpbWVvdXQ7dmFyIHI9XCJFdmVudCAnXCIrbi5ldmVudCtcIicgd2FzIGFib3J0ZWQgZHVlIHRvIGEgYmFkIGNvbm5lY3Rpb25cIixvPW5ldyBoKHIsdCksaT1uLmNhbGxiYWNrO2RlbGV0ZSBuLmNhbGxiYWNrLGkuY2FsbChuLG8sbil9fSxsLnByb3RvdHlwZS5fb25DbG9zZT1mdW5jdGlvbih0LGUpe2RlbGV0ZSB0aGlzLnNvY2tldC5vbm9wZW4sZGVsZXRlIHRoaXMuc29ja2V0Lm9uY2xvc2UsZGVsZXRlIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSxkZWxldGUgdGhpcy5zb2NrZXQub25lcnJvcixjbGVhclRpbWVvdXQodGhpcy5fY29ubmVjdFRpbWVvdXRSZWYpLHRoaXMuc3RhdGU9PXRoaXMuT1BFTj8odGhpcy5zdGF0ZT10aGlzLkNMT1NFRCxpLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcImNsb3NlXCIsdCxlKSx0aGlzLl9hYm9ydEFsbFBlbmRpbmdFdmVudHNEdWVUb0JhZENvbm5lY3Rpb24oXCJkaXNjb25uZWN0XCIpKTp0aGlzLnN0YXRlPT10aGlzLkNPTk5FQ1RJTkcmJih0aGlzLnN0YXRlPXRoaXMuQ0xPU0VELGkucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwib3BlbkFib3J0XCIsdCxlKSx0aGlzLl9hYm9ydEFsbFBlbmRpbmdFdmVudHNEdWVUb0JhZENvbm5lY3Rpb24oXCJjb25uZWN0QWJvcnRcIikpfSxsLnByb3RvdHlwZS5fb25NZXNzYWdlPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwiZXZlbnRcIixcIm1lc3NhZ2VcIix0KTt2YXIgZT10aGlzLmRlY29kZSh0KTtpZihcIiMxXCI9PWUpdGhpcy5fcmVzZXRQaW5nVGltZW91dCgpLHRoaXMuc29ja2V0LnJlYWR5U3RhdGU9PXRoaXMuc29ja2V0Lk9QRU4mJnRoaXMuc2VuZE9iamVjdChcIiMyXCIpO2Vsc2V7dmFyIG49ZS5ldmVudDtpZihuKXt2YXIgcj1uZXcgcyh0aGlzLGUuY2lkKTtpLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcImV2ZW50XCIsbixlLmRhdGEscil9ZWxzZSBpZihudWxsIT1lLnJpZCl7dmFyIG89dGhpcy5fY2FsbGJhY2tNYXBbZS5yaWRdO2lmKG8mJihjbGVhclRpbWVvdXQoby50aW1lb3V0KSxkZWxldGUgby50aW1lb3V0LGRlbGV0ZSB0aGlzLl9jYWxsYmFja01hcFtlLnJpZF0sby5jYWxsYmFjaykpe3ZhciBhPWMuaHlkcmF0ZUVycm9yKGUuZXJyb3IpO28uY2FsbGJhY2soYSxlLmRhdGEpfX1lbHNlIGkucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwiZXZlbnRcIixcInJhd1wiLGUpfX0sbC5wcm90b3R5cGUuX29uRXJyb3I9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJlcnJvclwiLHQpfSxsLnByb3RvdHlwZS5fcmVzZXRQaW5nVGltZW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7KG5ldyBEYXRlKS5nZXRUaW1lKCk7Y2xlYXJUaW1lb3V0KHRoaXMuX3BpbmdUaW1lb3V0VGlja2VyKSx0aGlzLl9waW5nVGltZW91dFRpY2tlcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fb25DbG9zZSg0ZTMpLHQuc29ja2V0LmNsb3NlKDRlMyl9LHRoaXMucGluZ1RpbWVvdXQpfSxsLnByb3RvdHlwZS5nZXRCeXRlc1JlY2VpdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ja2V0LmJ5dGVzUmVjZWl2ZWR9LGwucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQsZSl7aWYodD10fHwxZTMsdGhpcy5zdGF0ZT09dGhpcy5PUEVOKXt2YXIgbj17Y29kZTp0LGRhdGE6ZX07dGhpcy5lbWl0KFwiI2Rpc2Nvbm5lY3RcIixuKSx0aGlzLl9vbkNsb3NlKHQsZSksdGhpcy5zb2NrZXQuY2xvc2UodCl9ZWxzZSB0aGlzLnN0YXRlPT10aGlzLkNPTk5FQ1RJTkcmJih0aGlzLl9vbkNsb3NlKHQsZSksdGhpcy5zb2NrZXQuY2xvc2UodCkpfSxsLnByb3RvdHlwZS5lbWl0T2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXtldmVudDp0LmV2ZW50LGRhdGE6dC5kYXRhfTtyZXR1cm4gdC5jYWxsYmFjayYmKGUuY2lkPXQuY2lkPXRoaXMuY2FsbElkR2VuZXJhdG9yKCksdGhpcy5fY2FsbGJhY2tNYXBbdC5jaWRdPXQpLHRoaXMuc2VuZE9iamVjdChlKSx0LmNpZHx8bnVsbH0sbC5wcm90b3R5cGUuX2hhbmRsZUV2ZW50QWNrVGltZW91dD1mdW5jdGlvbih0KXt0LmNpZCYmZGVsZXRlIHRoaXMuX2NhbGxiYWNrTWFwW3QuY2lkXSxkZWxldGUgdC50aW1lb3V0O3ZhciBlPXQuY2FsbGJhY2s7aWYoZSl7ZGVsZXRlIHQuY2FsbGJhY2s7dmFyIG49bmV3IHUoXCJFdmVudCByZXNwb25zZSBmb3IgJ1wiK3QuZXZlbnQrXCInIHRpbWVkIG91dFwiKTtlLmNhbGwodCxuLHQpfX0sbC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpLHM9dGhpcztyPyhpPW4sbz1yKTpuIGluc3RhbmNlb2YgRnVuY3Rpb24/KGk9e30sbz1uKTppPW47dmFyIGE9e2V2ZW50OnQsZGF0YTplLGNhbGxiYWNrOm99O28mJiFpLm5vVGltZW91dCYmKGEudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5faGFuZGxlRXZlbnRBY2tUaW1lb3V0KGEpfSx0aGlzLm9wdGlvbnMuYWNrVGltZW91dCkpO3ZhciBjPW51bGw7cmV0dXJuKHRoaXMuc3RhdGU9PXRoaXMuT1BFTnx8aS5mb3JjZSkmJihjPXRoaXMuZW1pdE9iamVjdChhKSksY30sbC5wcm90b3R5cGUuY2FuY2VsUGVuZGluZ1Jlc3BvbnNlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLl9jYWxsYmFja01hcFt0XX0sbC5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvZGVjLmRlY29kZSh0KX0sbC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvZGVjLmVuY29kZSh0KX0sbC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0KXt0aGlzLnNvY2tldC5yZWFkeVN0YXRlIT10aGlzLnNvY2tldC5PUEVOP3RoaXMuX29uQ2xvc2UoMTAwNSk6dGhpcy5zb2NrZXQuc2VuZCh0KX0sbC5wcm90b3R5cGUuc2VyaWFsaXplT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLG47dHJ5e2U9dGhpcy5lbmNvZGUodCl9Y2F0Y2godCl7bj10LHRoaXMuX29uRXJyb3Iobil9cmV0dXJuIG4/bnVsbDplfSxsLnByb3RvdHlwZS5zZW5kT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2VyaWFsaXplT2JqZWN0KHQpO251bGwhPWUmJnRoaXMuc2VuZChlKX0sdC5leHBvcnRzLlNDVHJhbnNwb3J0PWx9KS5jYWxsKGUsbigwKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixpKXtlPWV8fFwiJlwiLG49bnx8XCI9XCI7dmFyIHM9e307aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHR8fDA9PT10Lmxlbmd0aClyZXR1cm4gczt2YXIgYT0vXFwrL2c7dD10LnNwbGl0KGUpO3ZhciBjPTFlMztpJiZcIm51bWJlclwiPT10eXBlb2YgaS5tYXhLZXlzJiYoYz1pLm1heEtleXMpO3ZhciB1PXQubGVuZ3RoO2M+MCYmdT5jJiYodT1jKTtmb3IodmFyIGg9MDtoPHU7KytoKXt2YXIgbCxwLGYsZCx5PXRbaF0ucmVwbGFjZShhLFwiJTIwXCIpLHY9eS5pbmRleE9mKG4pO3Y+PTA/KGw9eS5zdWJzdHIoMCx2KSxwPXkuc3Vic3RyKHYrMSkpOihsPXkscD1cIlwiKSxmPWRlY29kZVVSSUNvbXBvbmVudChsKSxkPWRlY29kZVVSSUNvbXBvbmVudChwKSxyKHMsZik/byhzW2ZdKT9zW2ZdLnB1c2goZCk6c1tmXT1bc1tmXSxkXTpzW2ZdPWR9cmV0dXJuIHN9O3ZhciBvPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYodC5tYXApcmV0dXJuIHQubWFwKGUpO2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspbi5wdXNoKGUodFtyXSxyKSk7cmV0dXJuIG59dmFyIG89ZnVuY3Rpb24odCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdDtjYXNlXCJib29sZWFuXCI6cmV0dXJuIHQ/XCJ0cnVlXCI6XCJmYWxzZVwiO2Nhc2VcIm51bWJlclwiOnJldHVybiBpc0Zpbml0ZSh0KT90OlwiXCI7ZGVmYXVsdDpyZXR1cm5cIlwifX07dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGEpe3JldHVybiBlPWV8fFwiJlwiLG49bnx8XCI9XCIsbnVsbD09PXQmJih0PXZvaWQgMCksXCJvYmplY3RcIj09dHlwZW9mIHQ/cihzKHQpLGZ1bmN0aW9uKHMpe3ZhciBhPWVuY29kZVVSSUNvbXBvbmVudChvKHMpKStuO3JldHVybiBpKHRbc10pP3IodFtzXSxmdW5jdGlvbih0KXtyZXR1cm4gYStlbmNvZGVVUklDb21wb25lbnQobyh0KSl9KS5qb2luKGUpOmErZW5jb2RlVVJJQ29tcG9uZW50KG8odFtzXSkpfSkuam9pbihlKTphP2VuY29kZVVSSUNvbXBvbmVudChvKGEpKStuK2VuY29kZVVSSUNvbXBvbmVudChvKHQpKTpcIlwifTt2YXIgaT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZlLnB1c2gobik7cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlLG4pe3JldHVybiBlP25ldyBvKHQsZSk6bmV3IG8odCl9dmFyIHI7cj1cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGU/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dmFyIG89ci5XZWJTb2NrZXR8fHIuTW96V2ViU29ja2V0O28mJihuLnByb3RvdHlwZT1vLnByb3RvdHlwZSksdC5leHBvcnRzPW8/bjpudWxsfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHIuZnJvbShhcmd1bWVudHMpfWZ1bmN0aW9uIG8oKXt9dmFyIGk7aT1cIkFuIGFyZ3VtZW50IHdpdGhvdXQgYXBwZW5kLCBwcmVwZW5kLCBvciBkZXRhY2ggbWV0aG9kcyB3YXMgZ2l2ZW4gdG8gYExpc3RcIjt2YXIgcztzPXIucHJvdG90eXBlLHIub2Y9ZnVuY3Rpb24oKXtyZXR1cm4gci5mcm9tLmNhbGwodGhpcyxhcmd1bWVudHMpfSxyLmZyb209ZnVuY3Rpb24odCl7dmFyIGUsbixyLG89bmV3IHRoaXM7aWYodCYmKGU9dC5sZW5ndGgpKWZvcihuPS0xOysrbjxlOyludWxsIT09KHI9dFtuXSkmJnZvaWQgMCE9PXImJm8uYXBwZW5kKHIpO3JldHVybiBvfSxzLmhlYWQ9bnVsbCxzLnRhaWw9bnVsbCxzLnRvQXJyYXk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5oZWFkLGU9W107dDspZS5wdXNoKHQpLHQ9dC5uZXh0O3JldHVybiBlfSxzLnByZXBlbmQ9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7aWYoIXQuYXBwZW5kfHwhdC5wcmVwZW5kfHwhdC5kZXRhY2gpdGhyb3cgbmV3IEVycm9yKGkrXCIjcHJlcGVuZGAuXCIpO3ZhciBlLG47cmV0dXJuIGU9dGhpcywobj1lLmhlYWQpP24ucHJlcGVuZCh0KToodC5kZXRhY2goKSx0Lmxpc3Q9ZSxlLmhlYWQ9dCx0KX0scy5hcHBlbmQ9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7aWYoIXQuYXBwZW5kfHwhdC5wcmVwZW5kfHwhdC5kZXRhY2gpdGhyb3cgbmV3IEVycm9yKGkrXCIjYXBwZW5kYC5cIik7dmFyIGUsbixyO3JldHVybiBlPXRoaXMsKHI9ZS50YWlsKT9yLmFwcGVuZCh0KToobj1lLmhlYWQpP24uYXBwZW5kKHQpOih0LmRldGFjaCgpLHQubGlzdD1lLGUuaGVhZD10LHQpfSxyLkl0ZW09bzt2YXIgYT1vLnByb3RvdHlwZTthLm5leHQ9bnVsbCxhLnByZXY9bnVsbCxhLmxpc3Q9bnVsbCxhLmRldGFjaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Lmxpc3Qsbj10LnByZXYscj10Lm5leHQ7cmV0dXJuIGU/KGUudGFpbD09PXQmJihlLnRhaWw9biksZS5oZWFkPT09dCYmKGUuaGVhZD1yKSxlLnRhaWw9PT1lLmhlYWQmJihlLnRhaWw9bnVsbCksbiYmKG4ubmV4dD1yKSxyJiYoci5wcmV2PW4pLHQucHJldj10Lm5leHQ9dC5saXN0PW51bGwsdCk6dH0sYS5wcmVwZW5kPWZ1bmN0aW9uKHQpe2lmKCEodCYmdC5hcHBlbmQmJnQucHJlcGVuZCYmdC5kZXRhY2gpKXRocm93IG5ldyBFcnJvcihpK1wiSXRlbSNwcmVwZW5kYC5cIik7dmFyIGU9dGhpcyxuPWUubGlzdCxyPWUucHJldjtyZXR1cm4hIW4mJih0LmRldGFjaCgpLHImJih0LnByZXY9cixyLm5leHQ9dCksdC5uZXh0PWUsdC5saXN0PW4sZS5wcmV2PXQsZT09PW4uaGVhZCYmKG4uaGVhZD10KSxuLnRhaWx8fChuLnRhaWw9ZSksdCl9LGEuYXBwZW5kPWZ1bmN0aW9uKHQpe2lmKCEodCYmdC5hcHBlbmQmJnQucHJlcGVuZCYmdC5kZXRhY2gpKXRocm93IG5ldyBFcnJvcihpK1wiSXRlbSNhcHBlbmRgLlwiKTt2YXIgZT10aGlzLG49ZS5saXN0LHI9ZS5uZXh0O3JldHVybiEhbiYmKHQuZGV0YWNoKCksciYmKHQubmV4dD1yLHIucHJldj10KSx0LnByZXY9ZSx0Lmxpc3Q9bixlLm5leHQ9dCxlIT09bi50YWlsJiZuLnRhaWx8fChuLnRhaWw9dCksdCl9LHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQscil7dmFyIG87IWZ1bmN0aW9uKGkpe3ZhciBzPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLGE9KFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0LmV4cG9ydHMsXCJvYmplY3RcIj09dHlwZW9mIHImJnIpO3ZhciBjPWZ1bmN0aW9uKHQpe3RoaXMubWVzc2FnZT10fTtjLnByb3RvdHlwZT1uZXcgRXJyb3IsYy5wcm90b3R5cGUubmFtZT1cIkludmFsaWRDaGFyYWN0ZXJFcnJvclwiO3ZhciB1PWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBjKHQpfSxoPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGw9L1tcXHRcXG5cXGZcXHIgXS9nLHA9ZnVuY3Rpb24odCl7dD1TdHJpbmcodCkucmVwbGFjZShsLFwiXCIpO3ZhciBlPXQubGVuZ3RoO2UlND09MCYmKHQ9dC5yZXBsYWNlKC89PT8kLyxcIlwiKSxlPXQubGVuZ3RoKSwoZSU0PT0xfHwvW14rYS16QS1aMC05XFwvXS8udGVzdCh0KSkmJnUoXCJJbnZhbGlkIGNoYXJhY3RlcjogdGhlIHN0cmluZyB0byBiZSBkZWNvZGVkIGlzIG5vdCBjb3JyZWN0bHkgZW5jb2RlZC5cIik7Zm9yKHZhciBuLHIsbz0wLGk9XCJcIixzPS0xOysrczxlOylyPWguaW5kZXhPZih0LmNoYXJBdChzKSksbj1vJTQ/NjQqbityOnIsbysrJTQmJihpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZuPj4oLTIqbyY2KSkpO3JldHVybiBpfSxmPWZ1bmN0aW9uKHQpe3Q9U3RyaW5nKHQpLC9bXlxcMC1cXHhGRl0vLnRlc3QodCkmJnUoXCJUaGUgc3RyaW5nIHRvIGJlIGVuY29kZWQgY29udGFpbnMgY2hhcmFjdGVycyBvdXRzaWRlIG9mIHRoZSBMYXRpbjEgcmFuZ2UuXCIpO2Zvcih2YXIgZSxuLHIsbyxpPXQubGVuZ3RoJTMscz1cIlwiLGE9LTEsYz10Lmxlbmd0aC1pOysrYTxjOyllPXQuY2hhckNvZGVBdChhKTw8MTYsbj10LmNoYXJDb2RlQXQoKythKTw8OCxyPXQuY2hhckNvZGVBdCgrK2EpLG89ZStuK3Iscys9aC5jaGFyQXQobz4+MTgmNjMpK2guY2hhckF0KG8+PjEyJjYzKStoLmNoYXJBdChvPj42JjYzKStoLmNoYXJBdCg2MyZvKTtyZXR1cm4gMj09aT8oZT10LmNoYXJDb2RlQXQoYSk8PDgsbj10LmNoYXJDb2RlQXQoKythKSxvPWUrbixzKz1oLmNoYXJBdChvPj4xMCkraC5jaGFyQXQobz4+NCY2MykraC5jaGFyQXQobzw8MiY2MykrXCI9XCIpOjE9PWkmJihvPXQuY2hhckNvZGVBdChhKSxzKz1oLmNoYXJBdChvPj4yKStoLmNoYXJBdChvPDw0JjYzKStcIj09XCIpLHN9LGQ9e2VuY29kZTpmLGRlY29kZTpwLHZlcnNpb246XCIwLjEuMFwifTt2b2lkIDAhPT0obz1mdW5jdGlvbigpe3JldHVybiBkfS5jYWxsKGUsbixlLHQpKSYmKHQuZXhwb3J0cz1vKX0oKX0pLmNhbGwoZSxuKDI0KSh0KSxuKDApKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQud2VicGFja1BvbHlmaWxsfHwodC5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LHQucGF0aHM9W10sdC5jaGlsZHJlbnx8KHQuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSx0LndlYnBhY2tQb2x5ZmlsbD0xKSx0fX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlKXtyZXR1cm4gbnVsbCE9ZSYmdCBpbnN0YW5jZW9mIGV9ZnVuY3Rpb24gbihyLG8saSxzLGwpe2Z1bmN0aW9uIHAocixpKXtpZihudWxsPT09cilyZXR1cm4gbnVsbDtpZigwPT09aSlyZXR1cm4gcjt2YXIgdixnO2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXJldHVybiByO2lmKHQocixjKSl2PW5ldyBjO2Vsc2UgaWYodChyLHUpKXY9bmV3IHU7ZWxzZSBpZih0KHIsaCkpdj1uZXcgaChmdW5jdGlvbih0LGUpe3IudGhlbihmdW5jdGlvbihlKXt0KHAoZSxpLTEpKX0sZnVuY3Rpb24odCl7ZShwKHQsaS0xKSl9KX0pO2Vsc2UgaWYobi5fX2lzQXJyYXkocikpdj1bXTtlbHNlIGlmKG4uX19pc1JlZ0V4cChyKSl2PW5ldyBSZWdFeHAoci5zb3VyY2UsYShyKSksci5sYXN0SW5kZXgmJih2Lmxhc3RJbmRleD1yLmxhc3RJbmRleCk7ZWxzZSBpZihuLl9faXNEYXRlKHIpKXY9bmV3IERhdGUoci5nZXRUaW1lKCkpO2Vsc2V7aWYoeSYmZS5pc0J1ZmZlcihyKSlyZXR1cm4gdj1uZXcgZShyLmxlbmd0aCksci5jb3B5KHYpLHY7dChyLEVycm9yKT92PU9iamVjdC5jcmVhdGUocik6dm9pZCAwPT09cz8oZz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yociksdj1PYmplY3QuY3JlYXRlKGcpKToodj1PYmplY3QuY3JlYXRlKHMpLGc9cyl9aWYobyl7dmFyIG09Zi5pbmRleE9mKHIpO2lmKC0xIT1tKXJldHVybiBkW21dO2YucHVzaChyKSxkLnB1c2godil9dChyLGMpJiZyLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbj1wKGUsaS0xKSxyPXAodCxpLTEpO3Yuc2V0KG4scil9KSx0KHIsdSkmJnIuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1wKHQsaS0xKTt2LmFkZChlKX0pO2Zvcih2YXIgYiBpbiByKXt2YXIgRTtnJiYoRT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGcsYikpLEUmJm51bGw9PUUuc2V0fHwodltiXT1wKHJbYl0saS0xKSl9aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scylmb3IodmFyIHc9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyKSxiPTA7Yjx3Lmxlbmd0aDtiKyspe3ZhciBrPXdbYl0sVD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsayk7KCFUfHxULmVudW1lcmFibGV8fGwpJiYodltrXT1wKHJba10saS0xKSxULmVudW1lcmFibGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2LGsse2VudW1lcmFibGU6ITF9KSl9aWYobClmb3IodmFyIFM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMociksYj0wO2I8Uy5sZW5ndGg7YisrKXt2YXIgXz1TW2JdLFQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLF8pO1QmJlQuZW51bWVyYWJsZXx8KHZbX109cChyW19dLGktMSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHYsXyx7ZW51bWVyYWJsZTohMX0pKX1yZXR1cm4gdn1cIm9iamVjdFwiPT10eXBlb2YgbyYmKGk9by5kZXB0aCxzPW8ucHJvdG90eXBlLGw9by5pbmNsdWRlTm9uRW51bWVyYWJsZSxvPW8uY2lyY3VsYXIpO3ZhciBmPVtdLGQ9W10seT12b2lkIDAhPT1lO3JldHVybiB2b2lkIDA9PT1vJiYobz0hMCksdm9pZCAwPT09aSYmKGk9MS8wKSxwKHIsaSl9ZnVuY3Rpb24gcih0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiW29iamVjdCBEYXRlXVwiPT09cih0KX1mdW5jdGlvbiBpKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIltvYmplY3QgQXJyYXldXCI9PT1yKHQpfWZ1bmN0aW9uIHModCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiW29iamVjdCBSZWdFeHBdXCI9PT1yKHQpfWZ1bmN0aW9uIGEodCl7dmFyIGU9XCJcIjtyZXR1cm4gdC5nbG9iYWwmJihlKz1cImdcIiksdC5pZ25vcmVDYXNlJiYoZSs9XCJpXCIpLHQubXVsdGlsaW5lJiYoZSs9XCJtXCIpLGV9dmFyIGM7dHJ5e2M9TWFwfWNhdGNoKHQpe2M9ZnVuY3Rpb24oKXt9fXZhciB1O3RyeXt1PVNldH1jYXRjaCh0KXt1PWZ1bmN0aW9uKCl7fX12YXIgaDt0cnl7aD1Qcm9taXNlfWNhdGNoKHQpe2g9ZnVuY3Rpb24oKXt9fXJldHVybiBuLmNsb25lUHJvdG90eXBlPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXJldHVybiBudWxsO3ZhciBlPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZS5wcm90b3R5cGU9dCxuZXcgZX0sbi5fX29ialRvU3RyPXIsbi5fX2lzRGF0ZT1vLG4uX19pc0FycmF5PWksbi5fX2lzUmVnRXhwPXMsbi5fX2dldFJlZ0V4cEZsYWdzPWEsbn0oKTtcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5leHBvcnRzJiYodC5leHBvcnRzPW4pfSkuY2FsbChlLG4oNCkuQnVmZmVyKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQpe3ZhciBlPXQuc2VjdXJlP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIixuPVwiXCI7aWYodC5xdWVyeSlpZihcInN0cmluZ1wiPT10eXBlb2YgdC5xdWVyeSluPXQucXVlcnk7ZWxzZXt2YXIgcj1bXSxvPXQucXVlcnk7Zm9yKHZhciBpIGluIG8pby5oYXNPd25Qcm9wZXJ0eShpKSYmci5wdXNoKGkrXCI9XCIrb1tpXSk7ci5sZW5ndGgmJihuPVwiP1wiK3Iuam9pbihcIiZcIikpfXZhciBzO3JldHVybiBzPXQuaG9zdD90Lmhvc3Q6dC5ob3N0bmFtZStcIjpcIit0LnBvcnQsZStzK3QucGF0aCtufWZ1bmN0aW9uIG8oKXtyZXR1cm4gZS5sb2NhdGlvbiYmXCJodHRwczpcIj09bG9jYXRpb24ucHJvdG9jb2x9ZnVuY3Rpb24gaSh0LG4pe3ZhciByPW51bGw9PXQuc2VjdXJlP246dC5zZWN1cmU7cmV0dXJuIHQucG9ydHx8KGUubG9jYXRpb24mJmxvY2F0aW9uLnBvcnQ/bG9jYXRpb24ucG9ydDpyPzQ0Mzo4MCl9ZnVuY3Rpb24gcyh0KXtpZih0PXR8fHt9LHQuaG9zdCYmdC5wb3J0KXRocm93IG5ldyBoKFwiVGhlIGhvc3Qgb3B0aW9uIHNob3VsZCBhbHJlYWR5IGluY2x1ZGUgdGhlIHBvcnQgbnVtYmVyIGluIHRoZSBmb3JtYXQgaG9zdG5hbWU6cG9ydCAtIEJlY2F1c2Ugb2YgdGhpcywgdGhlIGhvc3QgYW5kIHBvcnQgb3B0aW9ucyBjYW5ub3QgYmUgc3BlY2lmaWVkIHRvZ2V0aGVyOyB1c2UgdGhlIGhvc3RuYW1lIG9wdGlvbiBpbnN0ZWFkXCIpO3ZhciBuPW8oKSxzPXtwb3J0OmkodCxuKSxob3N0bmFtZTplLmxvY2F0aW9uJiZsb2NhdGlvbi5ob3N0bmFtZSxwYXRoOlwiL3MvXCIsc2VjdXJlOm4sYXV0b0Nvbm5lY3Q6ITAsYXV0b1JlY29ubmVjdDohMCxhdXRvU3Vic2NyaWJlT25Db25uZWN0OiEwLGNvbm5lY3RUaW1lb3V0OjJlNCxhY2tUaW1lb3V0OjFlNCx0aW1lc3RhbXBSZXF1ZXN0czohMSx0aW1lc3RhbXBQYXJhbTpcInRcIixhdXRoRW5naW5lOm51bGwsYXV0aFRva2VuTmFtZTpcIkluamFtLmF1dGhUb2tlblwiLGJpbmFyeVR5cGU6XCJhcnJheWJ1ZmZlclwiLG11bHRpcGxleDohMCxjbG9uZURhdGE6ITF9O2Zvcih2YXIgYSBpbiB0KXQuaGFzT3duUHJvcGVydHkoYSkmJihzW2FdPXRbYV0pO3ZhciB1PXIocyk7cmV0dXJuITE9PT1zLm11bHRpcGxleD9uZXcgYyhzKToobFt1XT9sW3VdLmNvbm5lY3QoKTpsW3VdPW5ldyBjKHMpLGxbdV0pfWZ1bmN0aW9uIGEodCl7dD10fHx7fTt2YXIgbj1vKCkscz17cG9ydDppKHQsbiksaG9zdG5hbWU6ZS5sb2NhdGlvbiYmbG9jYXRpb24uaG9zdG5hbWUscGF0aDpcIi9zL1wiLHNlY3VyZTpufTtmb3IodmFyIGEgaW4gdCl0Lmhhc093blByb3BlcnR5KGEpJiYoc1thXT10W2FdKTt2YXIgYz1yKHMpLHU9bFtjXTt1JiZ1LmRlc3Ryb3koKSxkZWxldGUgbFtjXX12YXIgYz1uKDMpLHU9bigyKSxoPXUuSW52YWxpZEFyZ3VtZW50c0Vycm9yLGw9e307dC5leHBvcnRzPXtjb25uZWN0OnMsZGVzdHJveTphLGNvbm5lY3Rpb25zOmx9fSkuY2FsbChlLG4oMCkpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9ZnVuY3Rpb24gcih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gaSh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdm9pZCAwPT09dH10LmV4cG9ydHM9bixuLkV2ZW50RW1pdHRlcj1uLG4ucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLG4ucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwLG4uZGVmYXVsdE1heExpc3RlbmVycz0xMCxuLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7aWYoIW8odCl8fHQ8MHx8aXNOYU4odCkpdGhyb3cgVHlwZUVycm9yKFwibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9dCx0aGlzfSxuLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxhLGMsdTtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLFwiZXJyb3JcIj09PXQmJighdGhpcy5fZXZlbnRzLmVycm9yfHxpKHRoaXMuX2V2ZW50cy5lcnJvcikmJiF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSl7aWYoKGU9YXJndW1lbnRzWzFdKWluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZTt2YXIgaD1uZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnK2UrXCIpXCIpO3Rocm93IGguY29udGV4dD1lLGh9aWYobj10aGlzLl9ldmVudHNbdF0scyhuKSlyZXR1cm4hMTtpZihyKG4pKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6bi5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG4uYXBwbHkodGhpcyxhKX1lbHNlIGlmKGkobikpZm9yKGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHU9bi5zbGljZSgpLG89dS5sZW5ndGgsYz0wO2M8bztjKyspdVtjXS5hcHBseSh0aGlzLGEpO3JldHVybiEwfSxuLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBvO2lmKCFyKGUpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdChcIm5ld0xpc3RlbmVyXCIsdCxyKGUubGlzdGVuZXIpP2UubGlzdGVuZXI6ZSksdGhpcy5fZXZlbnRzW3RdP2kodGhpcy5fZXZlbnRzW3RdKT90aGlzLl9ldmVudHNbdF0ucHVzaChlKTp0aGlzLl9ldmVudHNbdF09W3RoaXMuX2V2ZW50c1t0XSxlXTp0aGlzLl9ldmVudHNbdF09ZSxpKHRoaXMuX2V2ZW50c1t0XSkmJiF0aGlzLl9ldmVudHNbdF0ud2FybmVkJiYobz1zKHRoaXMuX21heExpc3RlbmVycyk/bi5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycykmJm8+MCYmdGhpcy5fZXZlbnRzW3RdLmxlbmd0aD5vJiYodGhpcy5fZXZlbnRzW3RdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIix0aGlzLl9ldmVudHNbdF0ubGVuZ3RoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpLHRoaXN9LG4ucHJvdG90eXBlLm9uPW4ucHJvdG90eXBlLmFkZExpc3RlbmVyLG4ucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcih0LG4pLG98fChvPSEwLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1pZighcihlKSl0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dmFyIG89ITE7cmV0dXJuIG4ubGlzdGVuZXI9ZSx0aGlzLm9uKHQsbiksdGhpc30sbi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt2YXIgbixvLHMsYTtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1t0XSlyZXR1cm4gdGhpcztpZihuPXRoaXMuX2V2ZW50c1t0XSxzPW4ubGVuZ3RoLG89LTEsbj09PWV8fHIobi5saXN0ZW5lcikmJm4ubGlzdGVuZXI9PT1lKWRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHQsZSk7ZWxzZSBpZihpKG4pKXtmb3IoYT1zO2EtLSA+MDspaWYoblthXT09PWV8fG5bYV0ubGlzdGVuZXImJm5bYV0ubGlzdGVuZXI9PT1lKXtvPWE7YnJlYWt9aWYobzwwKXJldHVybiB0aGlzOzE9PT1uLmxlbmd0aD8obi5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW3RdKTpuLnNwbGljZShvLDEpLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIix0LGUpfXJldHVybiB0aGlzfSxuLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGUsbjtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbdF0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKGUgaW4gdGhpcy5fZXZlbnRzKVwicmVtb3ZlTGlzdGVuZXJcIiE9PWUmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGUpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz17fSx0aGlzfWlmKG49dGhpcy5fZXZlbnRzW3RdLHIobikpdGhpcy5yZW1vdmVMaXN0ZW5lcih0LG4pO2Vsc2UgaWYobilmb3IoO24ubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKHQsbltuLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sdGhpc30sbi5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1t0XT9yKHRoaXMuX2V2ZW50c1t0XSk/W3RoaXMuX2V2ZW50c1t0XV06dGhpcy5fZXZlbnRzW3RdLnNsaWNlKCk6W119LG4ucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fZXZlbnRzKXt2YXIgZT10aGlzLl9ldmVudHNbdF07aWYocihlKSlyZXR1cm4gMTtpZihlKXJldHVybiBlLmxlbmd0aH1yZXR1cm4gMH0sbi5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGlzdGVuZXJDb3VudChlKX19XSk7IiwidmFyIGluamFtU2RrID0gcmVxdWlyZSgnaW5qYW0tc2RrJylcblxuXG5cbndpbmRvdy5tYXJrZXJzID0gW11cblxuXG5cbi8vIFB1dCB5b3VyIHBoeXNpY2FsIGlkIGFuZCBhcHBsaWNhdGlvbiBrZXlcblxud2luZG93LmNyZWRlbnRpYWxzID0ge1xuICAgIHBoeXNpY2FsX2lkOiAnWU9VUl9QSFlTSUNBTF9JRCcsXG4gICAgY2hhbm5lbHM6IFtdLFxuICAgIGFwcGxpY2F0aW9uX2tleTogJ1lPVVJfQVBQTElDQVRJT05fS0VZJ1xufVxuXG5cblxuLy8gU29tZSBsb2NhdGlvbnNcblxud2luZG93LkFzaWEgPSB7XG4gICAgbGF0OiAyMy44MDAwMjksXG4gICAgbG5nOiA2Mi40Mjg5OTk4XG59XG5cblxuXG4vLyBHb29nbGUgTWFwcyBTYW1wbGVcblxud2luZG93LmNvbm5lY3RGb3JHb29nbGVNYXBzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBDb25uZWN0IHRvIEluamFtXG5cbiAgICB3aW5kb3cuaW5qYW0gPSBuZXcgSW5qYW0oY3JlZGVudGlhbHMpXG4gICAgaW5qYW0uY29ubmVjdCgpXG5cbiAgICBpbmphbS5vbignc3Vic2NyaWJlZCcsIGZ1bmN0aW9uIChjaGFubmVsKSB7XG4gICAgICAgIE0udG9hc3Qoe2h0bWw6ICdTdWJzY3JpYmVkICcgKyBjaGFubmVsfSlcbiAgICB9KVxuXG4gICAgaW5qYW0ub24oJ3Vuc3Vic2NyaWJlZCcsIGZ1bmN0aW9uIChjaGFubmVsKSB7XG4gICAgICAgIE0udG9hc3Qoe2h0bWw6ICdVbnN1YnNjcmliZWQgJyArIGNoYW5uZWx9KVxuICAgIH0pXG5cblxuICAgIC8vIFNob3dpbmcgZGV2aWNlcyBvbiBHb29nbGUgTWFwcyBieSBtYXJrZXJzIHdoZW4gcmVjZWl2aW5nIGxvY2F0aW9uIGRhdGFcblxuICAgIGluamFtLm9uKCd0cmFja2luZycsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChtYXJrZXJzW2RhdGEuY2hhbm5lbF0pIHtcbiAgICAgICAgICAgIHZhciBsYXRsbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGRhdGEubG9jYXRpb24ubGF0LCBkYXRhLmxvY2F0aW9uLmxuZylcbiAgICAgICAgICAgIG1hcmtlcnNbZGF0YS5jaGFubmVsXS5zZXRQb3NpdGlvbihsYXRsbmcpXG4gICAgICAgICAgICAvLyBVbmNvbW1lbnQgYmVsb3cgaWYgeW91IHdhbnQgbG9jayB0byBvbmUgbWFya2VyXG4gICAgICAgICAgICAvLyBtYXAucGFuVG8obGF0bG5nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkTWFya2VyR01hcHMoZGF0YS5jaGFubmVsLCB7bGF0OiBkYXRhLmxvY2F0aW9uLmxhdCwgbG5nOiBkYXRhLmxvY2F0aW9uLmxuZ30sIG1hcClcbiAgICAgICAgICAgIHZhciBsYXRsbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGRhdGEubG9jYXRpb24ubGF0LCBkYXRhLmxvY2F0aW9uLmxuZylcbiAgICAgICAgICAgIG1hcmtlcnNbZGF0YS5jaGFubmVsXS5zZXRQb3NpdGlvbihsYXRsbmcpXG4gICAgICAgICAgICBtYXAucGFuVG8obGF0bG5nKVxuICAgICAgICB9XG4gICAgfSlcblxuXG4gICAgLy8gR29vZ2xlIE1hcCBpbml0XG5cbiAgICB3aW5kb3cubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcbiAgICAgICAgem9vbTogMyxcbiAgICAgICAgY2VudGVyOiBBc2lhLFxuICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2UsXG4gICAgICAgIG5hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICBzY2FsZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICBmdWxsc2NyZWVuQ29udHJvbDogdHJ1ZSxcbiAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IGZhbHNlXG4gICAgfSlcblxufVxuXG5cblxuLy8gTW9zdCB1c2VmdWwgR29vZ2xlIE1hcHMgZnVuY3Rpb25zXG5cbndpbmRvdy5hZGRNYXJrZXJHTWFwcyA9IGZ1bmN0aW9uKGlkLCBsb2NhdGlvbiwgbWFwKSB7XG4gICAgbWFya2Vyc1tpZF0gPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgIGFuaW1hdGlvbjogZ29vZ2xlLm1hcHMuQW5pbWF0aW9uLkRST1AsXG4gICAgICAgIHBvc2l0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgdGl0bGU6IGlkXG4gICAgfSlcbn1cblxud2luZG93LnNldE1hcE9uQWxsR01hcHMgPSBmdW5jdGlvbihtYXApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpbmRvdy5NYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcmtlcnNbaV0uc2V0TWFwKG1hcClcbiAgICB9XG59XG5cbndpbmRvdy5jbGVhck1hcmtlcnNHTWFwcyA9IGZ1bmN0aW9uKCkge1xuICAgIHNldE1hcE9uQWxsR01hcHMobnVsbClcbn1cblxud2luZG93LmRlbGV0ZU1hcmtlcnNHTWFwcyA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyTWFya2Vyc0dNYXBzKClcbiAgICBtYXJrZXJzID0gW11cbn1cblxuXG5cbi8vIE9wZW4gU3RyZWV0IE1hcCBTYW1wbGVcblxud2luZG93LmNvbm5lY3RGb3JPcGVuU3RyZWV0TWFwID0gZnVuY3Rpb24oKSB7XG5cbn1cblxuXG5cbi8vIE1lc3NhZ2luZyBTYW1wbGVcblxud2luZG93LmNvbm5lY3RGb3JNZXNzYWdpbmcgPSBmdW5jdGlvbigpIHtcblxuICAgIC8vIENvbm5lY3QgdG8gSW5qYW1cblxuICAgIHdpbmRvdy5pbmphbSA9IG5ldyBJbmphbShjcmVkZW50aWFscylcbiAgICBpbmphbS5jb25uZWN0KClcblxuICAgIGluamFtLm9uKCdzdWJzY3JpYmVkJywgZnVuY3Rpb24gKGNoYW5uZWwpIHtcbiAgICAgICAgTS50b2FzdCh7aHRtbDogJ1N1YnNjcmliZWQgJyArIGNoYW5uZWx9KVxuICAgIH0pXG5cbiAgICBpbmphbS5vbigndW5zdWJzY3JpYmVkJywgZnVuY3Rpb24gKGNoYW5uZWwpIHtcbiAgICAgICAgTS50b2FzdCh7aHRtbDogJ1Vuc3Vic2NyaWJlZCAnICsgY2hhbm5lbH0pXG4gICAgfSlcblxuICAgIGluamFtLm9uKCdyYXdEYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkYXRhLmRhdGEgfHwgZGF0YS5tZXNzYWdlIHx8IGRhdGEuYm9keVxuICAgICAgICAkKCcjYm9hcmQgLm1lc3NhZ2VzJykucHJlcGVuZCgnPGRpdiBjbGFzcz1cIm1lc3NhZ2UtaG9sZGVyXCI+PGRpdiBjbGFzcz1cIm1lc3NhZ2VcIj4nXG4gICAgICAgICsgJzxzcGFuIGNsYXNzPVwidGl0bGVcIj4nICsgZGF0YS5jaGFubmVsICsgJzwvc3Bhbj4nXG4gICAgICAgICsgJzxwIGNsYXNzPVwiYm9keVwiPicgKyBtZXNzYWdlICsgJzwvcD4nXG4gICAgICAgICsgJzwvZGl2PjwvZGl2PicpXG4gICAgfSlcblxufVxuXG5pZiAoJCgnI2JvYXJkJykubGVuZ3RoKSB7XG4gICAgY29ubmVjdEZvck1lc3NhZ2luZygpXG59XG5cblxuXG4vLyBTdWJzY3JpYmVcblxuJCgnLnN1YicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB2YXIgY2hhbm5lbCA9ICQoJyNzdWJzY3JpcHRpb24nKS52YWwoKVxuICAgIGlmIChjaGFubmVsICE9ICcnKVxuICAgICAgICBpbmphbS5zdWJzY3JpYmUoY2hhbm5lbClcbn0pXG5cblxuXG4vLyBVbnN1YnNjcmliZVxuXG4kKCcudW5zdWInKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdmFyIGNoYW5uZWwgPSAkKCcjc3Vic2NyaXB0aW9uJykudmFsKClcbiAgICBpZiAoY2hhbm5lbCAhPSAnJylcbiAgICAgICAgaW5qYW0udW5zdWJzY3JpYmUoY2hhbm5lbClcbn0pXG5cblxuXG4vLyBTZW5kIERhdGFcblxuJCgnLnNlbmQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdmFyIGRhdGEgPSAkKCcjZGF0YScpLnZhbCgpXG4gICAgaWYgKGRhdGEgIT0gJycpXG4gICAgICAgIGluamFtLnB1Ymxpc2goZGF0YSlcbn0pIl19

//# sourceMappingURL=injam.samples.js.map
